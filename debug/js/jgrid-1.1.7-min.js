/*
 * JexGrid JavaScript Library v1.1.7
 * Date: Feb-14-2011 18:40:08
 *
 * AUTHOR
 * 
 * 	The JexGrid was written and is maintained by:
 * 		Joon Ho Cho <joonho1101@gmail.com>
 * 
 * COPYRIGHT
 * 
 * 	Copyright (c) 2010-2011, WebCash Inc. All rights reserved.
 *
 */
(function(){if(!Number.prototype.toFixedFloat){Number.prototype.toFixedFloat=function(F){return parseFloat(this.toFixed(F))
}}if(!String.prototype.isEmpty){String.prototype.isEmpty=function(){return this.length===0}}if(!String.prototype.contains){String.prototype.contains=function(F){return this.indexOf(F)!==-1}}if(!String.prototype.toInt){String.prototype.toInt=function(){var F=this.replace(/\D/g,"");
if(F.length===0){return Number.MAX_VALUE}F=F.replace(/^0+/g,"");if(F.length===0){return 0}return parseInt(F)}}if(!String.prototype.toIntStr){String.prototype.toIntStr=function(){return parseInt(this.replace(/\D/g,""))}}if(!String.prototype.toFloat){String.prototype.toFloat=function(){return parseFloat(this.replace(/[^\d\.]/g,""))
}}if(!String.prototype.toFloatStr){String.prototype.toFloatStr=function(){return this.replace(/[^\d\.]/g,"")}}if(!Array.prototype.contains){Array.prototype.contains=function(F){if(this.length===0){return false}return this.indexOf(F)!==-1}}if(!Array.prototype.isEmpty){Array.prototype.isEmpty=function(){return this.length===0
}}if(!Array.prototype.remove){Array.prototype.remove=function(I){if(this.length===0){return}var F=this.indexOf(I);if(F!==-1){this.splice(F,1)}}}if(!Array.prototype.removeAll){Array.prototype.removeAll=function(J){if(this.length===0){return}var F=this.length;
var I=F;while(I=this.lastIndexOf(J,I-1)!==-1){this.splice(I,1);if(I===0){return}}}}if(!Array.prototype.removeList){Array.prototype.removeList=function(M){if(this.length===0||M.length===0){return}var F=this.length;var K=M.length;M=M.slice();var L,I;for(var J=F-1;
J>-1;J--){L=this[J];for(I=0;I<K;I++){if(L===M[I]){this.splice(J,1);M.splice(I,1);if(--K===0){return}break}}}}}if(!Array.prototype.removeAt){Array.prototype.removeAt=function(F){if(0<=F&&F<this.length){this.splice(F,1)}}}if(!Array.prototype.addAt){Array.prototype.addAt=function(F,I){this.splice(F,0,I)
}}if(!Array.prototype.pushList){Array.prototype.pushList=function(F){if(F.length===0){return this.length}return Array.prototype.push.apply(this,F)}}if(!Array.prototype.pushListAt){Array.prototype.pushListAt=function(F,J){if(J.length===0){return this.length}var I=[F,0];
Array.prototype.push.apply(I,J);Array.prototype.splice.apply(this,I);return this.length}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(I){var F=this.length;var J=Number(arguments[1])||0;J=(J<0)?Math.ceil(J):Math.floor(J);if(J<0){J+=F}for(;J<F;
J++){if(J in this&&this[J]===I){return J}}return -1}}if(!Array.prototype.every){Array.prototype.every=function(I){var F=this.length;if(typeof I!=="function"){throw new TypeError()}var K=arguments[1];for(var J=0;J<F;J++){if(J in this&&!I.call(K,this[J],J,this)){return false
}}return true}}if(!Array.prototype.forEach){Array.prototype.forEach=function(I){var F=this.length;if(typeof I!=="function"){throw new TypeError()}var K=arguments[1];for(var J=0;J<F;J++){if(J in this){I.call(K,this[J],J,this)}}}}if(!Array.prototype.filter){Array.prototype.filter=function(I){var F=this.length;
if(typeof I!=="function"){throw new TypeError()}var L=[];var K=arguments[1];for(var J=0;J<F;J++){if(J in this){var M=this[J];if(I.call(K,M,J,this)){L.push(M)}}}return L}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(I){var F=this.length;
var J=Number(arguments[1]);if(isNaN(J)){J=F-1}else{J=(J<0)?Math.ceil(J):Math.floor(J);if(J<0){J+=F}else{if(J>=F){J=F-1}}}for(;J>-1;J--){if(J in this&&this[J]===I){return J}}return -1}}if(!Array.prototype.map){Array.prototype.map=function(I){var F=this.length;
if(typeof I!=="function"){throw new TypeError()}var L=new Array(F);var K=arguments[1];for(var J=0;J<F;J++){if(J in this){L[J]=I.call(K,this[J],J,this)}}return L}}if(!Array.prototype.reduce){Array.prototype.reduce=function(I){var F=this.length;if(typeof I!=="function"){throw new TypeError()
}if(F==0&&arguments.length==1){throw new TypeError()}var J=0;if(arguments.length>=2){var K=arguments[1]}else{do{if(J in this){K=this[J++];break}if(++J>=F){throw new TypeError()}}while(true)}for(;J<F;J++){if(J in this){K=I.call(null,K,this[J],J,this)}}return K
}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(I){var F=this.length;if(typeof I!=="function"){throw new TypeError()}if(F==0&&arguments.length==1){throw new TypeError()}var J=F-1;if(arguments.length>=2){var K=arguments[1]}else{do{if(J in this){K=this[J--];
break}if(--J<0){throw new TypeError()}}while(true)}for(;J>=0;J--){if(J in this){K=I.call(null,K,this[J],J,this)}}return K}}if(!Array.prototype.some){Array.prototype.some=function(I){var F=this.length;if(typeof I!=="function"){throw new TypeError()}var K=arguments[1];
for(var J=0;J<F;J++){if(J in this&&I.call(K,this[J],J,this)){return true}}return false}}window.Util={};Util.isNull=function(F){return F===undefined||F===null};Util.ifNull=function(J,F,I){if(J===undefined||J===null){return F}if(I===undefined){return J}return I
};Util.ifTrue=function(I,J,F){if(I===true){return J}if(F===undefined){return I}return F};Util.isNullAnd=function(){for(var F=0;F<arguments.length;F++){if(arguments[F]!==undefined&&arguments[F]!==null){return false}}return true};Util.isNullOr=function(){for(var F=0;
F<arguments.length;F++){if(arguments[F]===undefined||arguments[F]===null){return true}}return false};Util.isNotNull=function(F){return F!==undefined&&F!==null};Util.isNotNullAnd=function(){for(var F=0;F<arguments.length;F++){if(arguments[F]===undefined||arguments[F]===null){return false
}}return true};Util.isNotNullOr=function(){for(var F=0;F<arguments.length;F++){if(arguments[F]!==undefined&&arguments[F]!==null){return true}}return false};Util.isFunction=function(F){return typeof F==="function"};Util.isString=function(F){return typeof F==="string"
};Util.isNumber=function(F){return typeof F==="number"};Util.isObject=function(F){return typeof F==="object"};Util.isEmpty=function(I){for(var F in I){if(I.hasOwnProperty(F)){return false}}return true};Util.isNotEmpty=function(I){for(var F in I){if(I.hasOwnProperty(F)){return true
}}return false};Util.toArray=function(J){var F=[];for(var I in J){if(J.hasOwnProperty(I)){F.push(J[I])}}return F};Util.toArrayWithKey=function(J){var F=[];for(var I in J){if(J.hasOwnProperty(I)){F.push({key:I,val:J[I]})}}return F};Util.random=function(F){return Math.floor(F*Math.random())
};Util.callFn=function(){if(arguments.length<=3){return arguments[1].call(argument[0],arguments[2])}return arguments[1].apply(arguments[0],Array.prototype.slice.call(arguments,2))};Util.formatNumber=function(L,K,J,I,F){J=J===undefined?"&#8361; ":J,K=isNaN(K=Math.abs(K))?0:K,I=I===undefined?".":I,F=F===undefined?",":F,s=L<0?"-":"",i=parseInt(L=Math.abs(+L||0).toFixed(K))+"",j=(j=i.length)>3?j%3:0;
return J+s+(j?i.substr(0,j)+F:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+F)+(K?I+Math.abs(L-i).toFixed(K).slice(2):"")};Util.getHead=function(){if(document.head!==undefined){return document.head}return document.getElementsByTagName("head")[0]};Util.createStyle=function(I){var F=document.createElement("style");
F.type="text/css";F.rel="stylesheet";if(F.styleSheet!==undefined){F.styleSheet.cssText=I}else{F.innerHTML=I}Util.getHead().appendChild(F);return F};Util.removeStyle=function(F){Util.getHead().removeChild(F)};Util.setStyle=function(F,I){if(F.styleSheet!==undefined){return F.styleSheet.cssText=I
}return F.innerHTML=I};Util.appendStyle=function(F,I){if(F.styleSheet!==undefined){return F.styleSheet.cssText+=I}return F.innerHTML+=I};Util.getStyle=function(F){if(F.styleSheet!==undefined){return F.styleSheet.cssText}return F.innerHTML};Util.getCss=function(J,F){var K=new RegExp(F+"\\s*{.*?}");
var I=K.exec(Util.getStyle(J));return{css:J,sel:F,reg:K,res:I}};Util.setCss=function(I,F,L,N){var M=Util.getCss(I,F);if(Util.isNull(M.res)){return false}var K=new RegExp(L+":.*?[;}]");var J=K.exec(M.res[0]);if(Util.isNull(J)){return false}Util.setStyle(I,M.res.input.substring(0,M.res.index)+J.input.substring(0,J.index)+L+":"+N+";"+J.input.substring(J.index+J[0].length)+M.res.input.substring(M.res.index+M.res[0].length));
return J[0]};Util.appendScript=function(I){var F=document.createElement("script");F.type="text/javascript";if(F.text!==undefined){F.text=I}else{F.innerHTML=I}Util.getHead().appendChild(F);return F};Util.appendScriptFile=function(I){var F=document.createElement("script");
F.type="text/javascript";F.src=I;Util.getHead().appendChild(F);return F};Util.outerHTML=function(I){if(I.outerHTML===undefined||I.outerHTML===null){var J=document.createElement("div");J.appendChild(I.cloneNode(true));var F=J.innerHTML;J=undefined;return F}return I.outerHTML
};Util.index=function(J){var F=0;var I=J;while(I=I.previousSibling){++F}return F};Util.contains=function(J,K,I){var F=K;while(F!==undefined&&F!==null){if(F===J){return true}if(F===I){return false}F=F.parentNode}return false};Util.calCheckSize=function(){var F={};
var I=document.createElement("div");document.body.appendChild(I);I.innerHTML="<input type='checkbox' style='margin:0;padding:0;overflow:hidden'/>";F.checkboxW=I.childNodes[0].offsetWidth;F.checkboxH=I.childNodes[0].offsetHeight;I.innerHTML="<input type='radio' style='margin:0;padding:0;overflow:hidden'/>";
F.radioW=I.childNodes[0].offsetWidth;F.radioH=I.childNodes[0].offsetHeight;document.body.removeChild(I);return F};Util.which=function(J){var L={};for(var I=0;I<J.length;I++){var K=J[I].toLowerCase();if(K==="number"){for(var F=48;F<=57;F++){L[F]=true}for(var F=96;
F<=105;F++){L[F]=true}continue}if(K==="alphabet"){for(var F=65;F<=90;F++){L[F]=true}continue}if(K==="arrow"){for(var F=37;F<=40;F++){L[F]=true}continue}if(K.length>1){K=K.replace(/\s/g,"")}if(K.length>=3){K=K.replace(/numpad|num/g,"n").replace(/korean|kor/g,"kr")
}L[Util.keyMapKeydown[K]]=true}return L};Util.keyMapKeydown={backspace:8,tab:9,enter:13,shift:16,control:17,ctrl:17,alt:18,pause:19,"break":19,capslock:20,escape:27,esc:27,space:32," ":32,pageup:33,pgup:33,pagedown:34,pgdown:34,pgdn:34,end:35,home:36,leftarrow:37,left:37,uparrow:38,up:38,rightarrow:39,right:39,downarrow:40,down:40,insert:45,ins:45,"delete":46,del:46,"0":48,")":48,"1":49,"!":49,"2":50,"@":50,"3":51,"#":51,"4":52,"$":52,"5":53,"%":53,"6":54,"^":54,"7":55,"&":55,"8":56,"*":56,"9":57,"(":57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,n0:96,n1:97,n2:98,n3:99,n4:100,n5:101,n6:102,n7:103,n8:104,n9:105,"n*":106,"n+":107,"n-":109,"n.":110,"n/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,mute:173,volumedown:174,volumeup:175,":":186,";":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,kr:229};
Util.printEventPos=function(F){Util.print("client: ("+F.clientX+", "+F.clientY+"), layer: ("+F.layerX+", "+F.layerY+"), offset: ("+F.offsetX+", "+F.offsetY+"), page: ("+F.pageX+", "+F.pageY+"), screen: ("+F.screenX+", "+F.screenY+"), xy: ("+F.x+", "+F.y+")")
};Util.print=function(){if(Util.isNull(window.console)||Util.isNull(window.console.log)){return}if(arguments.length==1){console.log(arguments[0])}else{Util.printGroup("Group");for(var F=0;F<arguments.length;F++){console.log(arguments[F])}Util.printGroupEnd()
}};Util.printGroup=function(){if(Util.isNull(window.console)||Util.isNull(window.console.group)){return}console.group(Array.prototype.slice.call(arguments).join(", "))};Util.printGroupEnd=function(){if(Util.isNull(window.console)||Util.isNull(window.console.groupEnd)){return
}console.groupEnd()};Util.open=function(F){var J={url:"about:blank",name:"_blank",channelmode:"no",directories:"yes",fullscreen:"no",height:undefined,left:undefined,location:"yes",menubar:"yes",resizable:"yes",scrollbars:"yes",status:"yes",titlebar:"yes",toolbar:"yes",top:undefined,width:undefined,replace:undefined};
if(Util.isNotNull(F)){for(var I in J){J[I]=F[I]}}var K=Util.ifNull(J.height,"","height="+J.height+", ")+Util.ifNull(J.left,"","left="+J.left+", ")+Util.ifNull(J.top,"","top="+J.top+", ")+Util.ifNull(J.width,"","width="+J.width+", ")+"channelmode="+J.channelmode+", directories="+J.directories+", fullscreen="+J.fullscreen+", location="+J.location+", menubar="+J.menubar+", resizable="+J.resizable+", scrollbars="+J.scrollbars+", status="+J.status+", titlebar="+J.titlebar+", toolbar="+J.toolbar;
if(Util.isNull(J.replace)){return window.open(J.url,J.name,K)}return window.open(J.url,J.name,K,J.replace)};window.Util$={};Util$.is$=function(F){return(F instanceof jQuery)?true:false};Util$.safe$=function(F){return(F instanceof jQuery)?F:$(F)};jQuery.fn.getBoundingRect=function(){var F=this.offset();
return{left:F.left,top:F.top,width:this.outerWidth(),height:this.outerHeight()}};jQuery.fn.containsEvent=function(K){if(this.length===0){return false}if(this.length<=1){var J=this.getBoundingRect();var F=K.pageX;var L=K.pageY;return(F>=J.left&&F<=J.left+J.width&&L>=J.top&&L<=J.top+J.height)
}var I=false;this.each(function(O,N){var P=$(this).getBoundingRect();var M=K.pageX;var Q=K.pageY;if(M>=P.left&&M<=P.left+P.width&&Q>=P.top&&Q<=P.top+P.height){I=true;return false}});return I};Util$.baseurlOfHeadScript=function(F){var I=$(document.getElementsByTagName("head")[0]).find("script[src$='"+F+"']").attr("src");
return I.substring(0,I.indexOf(F))};Util$.calScrollbarDims=function(I){if(Util.isNotNull(window.__SCROLLBAR_DIM__)){return window.__SCROLLBAR_DIM__}if(Util.isNotNull(window.opener)&&Util.isNotNull(window.opener.__SCROLLBAR_DIM__)){return window.opener.__SCROLLBAR_DIM__
}var F=Util$.safe$(I);F[0].innerHTML="<div id='scrollbardim' style='position:absolute; top:-10000px; left:-10000px; 	width:100px; height:100px; overflow:scroll;'></div>";tmp=$(document.getElementById("scrollbardim"));var J={w:tmp.width()-tmp[0].clientWidth,h:tmp.height()-tmp[0].clientHeight};
F[0].innerHTML="";window.__SCROLLBAR_DIM__=J;return J};window.Tracer=function(){this.stack="";this.timers={}};Tracer.prototype.print=function(K,M,L){if(Util.isNull(K)){K=""}if(Util.isNull(M)){M="timer"}if(Util.isNull(L)){L=true}var F=this.timers[M];var I=(new Date()).getTime();
var J=Util.isNull(F,0,I-F);Util.print((this.stack.length>0?this.stack+" :: ":"")+K+", Time elapsed since last update: "+J+"ms");if(L){this.timers[M]=I}};Tracer.prototype.addStack=function(F){this.stack=this.stack+" > "+F};Tracer.prototype.removeStack=function(){this.stack=this.stack.substring(0,this.stack.lastIndexOf(" > "))
};Tracer.prototype.clearStack=function(){this.stack=""};JGM={};JGM.a={ArrayExtIE:{filename:"array_ext_ie.js",readyState:"notloaded",required:false,cacheModule:false},Cache:{filename:"jgrid_cache.js",readyState:"notloaded",required:true,cacheModule:true},Cell:{filename:"jgrid_cell.js",readyState:"notloaded",required:true,cacheModule:false},CheckManager:{filename:"jgrid_checkmanager.js",readyState:"notloaded",required:false,cacheModule:true},ColDefManager:{filename:"jgrid_coldefmanager.js",readyState:"notloaded",required:true,cacheModule:true},ColGroup:{filename:"jgrid_colgroup.js",readyState:"notloaded",required:false,cacheModule:true},ColHeader:{filename:"jgrid_colheader.js",readyState:"notloaded",required:true,cacheModule:true},Collapser:{filename:"jgrid_collapser.js",readyState:"notloaded",required:false,cacheModule:true},DataManager:{filename:"jgrid_datamanager.js",readyState:"notloaded",required:true,cacheModule:true},DataCreator:{filename:"jgrid_datacreator.js",readyState:"notloaded",required:false,cacheModule:true},EditManager:{filename:"jgrid_editmanager.js",readyState:"notloaded",required:true,cacheModule:true},Editor:{filename:"jgrid_editmanager.js",readyState:"notloaded",required:true,cacheModule:true},EngineExt:{filename:"engine_ext.js",readyState:"notloaded",required:true,cacheModule:false},EventManager:{filename:"jgrid_eventmanager.js",readyState:"notloaded",required:true,cacheModule:true},Footer:{filename:"jgrid_footer.js",readyState:"notloaded",required:false,cacheModule:true},HeaderTree:{filename:"jgrid_headertree.js",readyState:"notloaded",required:false,cacheModule:true},Grid:{filename:"jgrid_grid.js",readyState:"notloaded",required:true,cacheModule:true},GridManager:{filename:"jgrid_manager.js",readyState:"loaded",required:true,cacheModule:false},MenuBar:{filename:"jgrid_menubar.js",readyState:"notloaded",required:true,cacheModule:true},ViewportManager:{filename:"jgrid_viewportmanager.js",readyState:"notloaded",required:true,cacheModule:true},SelectionManager:{filename:"jgrid_selectionmanager.js",readyState:"notloaded",required:false,cacheModule:true},SearchManager:{filename:"jgrid_searchmanager.js",readyState:"notloaded",required:false,cacheModule:true},TooltipManager:{filename:"jgrid_tooltipmanager.js",readyState:"notloaded",required:false,cacheModule:true},Tracer:{filename:"tracer.js",readyState:"notloaded",required:false,cacheModule:false},Tree:{filename:"tree.js",readyState:"notloaded",required:false,cacheModule:true},TreeNode:{filename:"tree.js",readyState:"notloaded",required:false,cacheModule:false},Util:{filename:"util.js",readyState:"notloaded",required:true,cacheModule:false},"Util$":{filename:"util_jquery.js",readyState:"notloaded",required:true,cacheModule:false}};
if(Util===undefined){window.Util={};Util.isNull=function(F){return(F===undefined||F===null)?true:false};Util.isNotNull=function(F){return(F===undefined||F===null)?false:true};Util.isFunction=function(F){return(typeof F==="function")?true:false};Util.appendScriptFile=function(I){var F=document.createElement("script");
F.type="text/javascript";F.src=I;document.getElementsByTagName("head")[0].appendChild(F)}}if(Util$===undefined){window.Util$={};Util$.baseurlOfHeadScript=function(F){var I=$(document.getElementsByTagName("head")[0]).find("script[src$='"+F+"']").attr("src");
return I.substring(0,I.indexOf(F))}}JGM.create=function(I,F){if(Util.isNull(F)){F={}}if(this.a[I].cacheModule){F.mid="JGM"+this.m.length++;var J=this[I].X(F);if(!(I in this.m)){this.m[I]={}}this.m[I][J.mid]=J;return J}else{return this[I].X(F)}};JGM.grid=function(F){return this.create("Grid",F)
};JGM.f=function(I,F){delete this.m[I][F]};JGM.b=function(F,I){if(Util.isNotNull(I)){this[F]=I}this.a[F].readyState="loaded"};JGM.c=function(F){return this.a[F].readyState==="loaded"};JGM.d=function(F,O){var I;var N=Util$.baseurlOfHeadScript(this.GridManager.filename);
if(F instanceof Array){I=[];for(var M=0;M<F.length;M++){var P=N+this[F[M]].filename;var K=false;for(var L=0;L<I.length;L++){if(I[L]===P){K=true;break}}if(!K&&!this.c(F[M])){I.push(P)}}if(Util.isFunction(O)){var J=function(){for(var Q=0;Q<F.length;Q++){if(!JGM.c(F[Q])){return false
}}return true};$("body").bind("moduleload.Grid",function(Q){if(J()){$("body").unbind("moduleload.Grid");O()}})}if(I.length===0){O()}for(var M=0;M<I.length;M++){Util.appendScriptFile(I[M])}}else{if(this.c(F)){if(Util.isFunction(O)){O()}}I=N+this.a[F].filename;
if(Util.isFunction(O)){$("body").bind("moduleload.Grid",function(Q){if(Q.modulename===F&&Q.readyState==="loaded"){$("body").unbind("moduleload.Grid");O()}})}Util.appendScriptFile(I)}};JGM.start=function(M,I,O){var F=[];for(var K=3;K<arguments.length;K++){F.push(arguments[K])
}if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){F.push("ArrayExtIE")}if(Util.isNotNull(M.CheckManager)){F.push("CheckManager")}if(Util.isNotNull(M.Collapser)){F.push("Collapser")}if(Util.isNotNull(M.EditManager)){F.push("EditManager")}for(var K=0;K<F.length;
K++){this[F[K]].required=true}var L=[];for(var N in JGM){var J=this[N];if(!Util.isFunction(J)&&J.readyState==="notloaded"&&J.required===true){L.push(N)}}this.d(L,O)};JGM.e=function(L,F,K){var J=Util.ifNull(F,{});if(Util.isNotNull(K)){for(var I in K){if(I in J){J[K[I]]=J[I];
delete J[I]}}}$.extend(true,L,J);$.extend(true,J,L);return J};JGM.m={length:0};JGM.g={a:"-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;",b:"-webkit-user-drag:none;-moz-user-drag:none;user-drag:none;",c:undefined,d:undefined,e:undefined,f:undefined};
JGM.h=false;JGM.i={a:function(I){for(var F in JGM.m.Grid){JGM.m.Grid[F].N(I)}},b:function(I){for(var F in JGM.m.Grid){JGM.m.Grid[F].K(I)}},c:function(I){for(var F in JGM.m.Grid){JGM.m.Grid[F].G(I)}}};JGM.j=function(){if(!this.h){$(document).bind({mousemove:this.i.a,mouseup:this.i.b});
$(window).resize(this.i.c);this.h=true}};JGM.k=function(){if(this.h){$(document).unbind({mousemove:this.i.a,mouseup:this.i.b});$(window).unbind("resize",this.i.c);this.h=false}};function C(I){this.mid=I.mid;this.list=I.list;var F={nodeKey:"nodeId",parentKey:"parentId"};
this.Z=JGM.e(F,I.options);this.map={};this.root=new y({tree:this});this.infants={}}C.X=function(F){return new C(F)};C.prototype.Y=function(){this.makeTree()};C.prototype.destroy=function(){this.root.destroyDown();this.map={};this.emptyInfants();delete this.list;
delete this.Z;delete this.map;delete this.root;delete this.infants;JGM.f("Tree",this.mid);delete this.mid};C.prototype.detach=function(){this.root.detachDown();this.emptyInfants()};C.prototype.emptyInfants=function(){for(var F in this.infants){this.infants[F].length=0
}this.infants={}};C.prototype.reattach=function(K){this.detach();if(Util.isNull(K)){K=this.list}var I=this.Z.nodeKey;var L=this.map;var F=K.length;for(var J=0;J<F;J++){this.attachNode(L[K[J][I]])}};C.prototype.makeTree=function(I){if(Util.isNull(I)){I=this.list
}for(var F=0;F<I.length;F++){this.createNode(I[F])}};C.prototype.hasNode=function(F){return Util.isNotNull(F)&&F[this.Z.nodeKey] in this.map};C.prototype.getNode=function(F){return this.map[F[this.Z.nodeKey]]};C.prototype.getNodeByNodeId=function(F){return this.map[F]
};C.prototype.createNode=function(I){if(this.hasNode()){return}var J=I[this.Z.nodeKey];var F=new y({tree:this,data:I,nodeId:J});this.map[J]=F;this.attachNode(F);return F};C.prototype.adoptInfants=function(I,K){if(K in this.infants){var J=this.infants[K];for(var F=0;
F<J.length;F++){I.addChild(J[F])}J.length=0;delete this.infants[K]}};C.prototype.attachNode=function(F){var I=F.nodeId;var J=F.data[this.Z.parentKey];this.adoptInfants(F,I);if(Util.isNull(J)||J==I){this.root.addChild(F);return true}if(J in this.map){this.map[J].addChild(F);
return true}this.addToInfants(F,J);return false};C.prototype.changeNodeId=function(I,J,F){if(J===F){return}delete this.map[J];this.map[F]=I;this.removeChildren(I);I.nodeId=I.data[this.Z.nodeKey]=F;if(Util.isNotNull(I.parent)){I.parent.childrenMap[F]=I.parent.childrenMap[J];
delete I.parent.childrenMap[J]}this.adoptInfants(I,F)};C.prototype.changeParentId=function(J,K,F){if(K===F){return}if(Util.isNull(J.parent)){this.removeFromInfants(J,K)}var I=this.map[F];J.setParent(I);J.data[this.Z.parentKey]=F;if(Util.isNull(I)){this.addToInfants(J,F)
}};C.prototype.destroyNodeByData=function(F){this.destroyNode(this.getNode(F))};C.prototype.destroyNode=function(F){this.removeChildren(F);this.removeFromInfants(F);this.removeFromMap(F);F.destroyCompletely()};C.prototype.removeFromMap=function(F){delete this.map[F.nodeId]
};C.prototype.addToInfants=function(F,I){if(!(I in this.infants)){this.infants[I]=[]}this.infants[I].push(F)};C.prototype.removeFromInfants=function(F,I){if(Util.isNull(I)){I=F.data[this.Z.parentKey]}if(I in this.infants){this.infants[I].remove(F);if(this.infants[I].length===0){delete this.infants[I]
}}};C.prototype.removeChildren=function(F){if(F.children.length!==0){if(!(F.nodeId in this.infants)){this.infants[F.nodeId]=[]}this.infants[F.nodeId].pushList(F.children);F.removeAllChildren()}};C.prototype.sortList=function(F){if(Util.isNull(F)){F=[]}else{F.length=0
}this.root.traverseChildren({fn:function(){F.push(this.data)}})};function y(F){this.tree=F.tree;this.data=F.data;this.nodeId=F.nodeId;this.level;this.parent;this.childrenMap={};this.children=[]}y.X=function(F){return new y(F)};y.prototype.destroy=function(){this.detach();
delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children};y.prototype.destroyCompletely=function(){this.detachCompletely();delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children
};y.prototype.destroyDown=function(){if(Util.isNotNull(this.parent)){this.parent.removeChild(this)}this.traverse({post:true,fn:function(){this.destroy()}})};y.prototype.detach=function(){delete this.parent;delete this.level;this.children.length=0;this.childrenMap={}
};y.prototype.detachCompletely=function(){if(Util.isNotNull(this.parent)){this.parent.removeChild(this)}this.removeAllChildren();delete this.parent;delete this.level};y.prototype.detachDown=function(){if(Util.isNotNull(this.parent)){this.parent.removeChild(this)
}this.traverse({post:true,fn:function(){this.detach()}})};y.prototype.isRoot=function(){return Util.isNull(this.parent)};y.prototype.getRoot=function(){this.tree.root};y.prototype.isLeaf=function(){return this.children.length===0};y.prototype.setParent=function(F){if(this.parent===F){return
}if(Util.isNotNull(this.parent)){this.parent.removeChild(this)}this.parent=F;delete this.level;if(Util.isNotNull(F)){F.addChild(this)}};y.prototype.hasChild=function(F){return F.nodeId in this.childrenMap};y.prototype.addChild=function(F){if(this.hasChild(F)){return
}this.children.push(F);this.childrenMap[F.nodeId]=this.children.length-1;F.setParent(this)};y.prototype.addChildAt=function(F,J){if(this.hasChild(J)){var I=this.childrenMap[J.nodeId];if(I===F){return}this.children.removeAt(I)}this.children.addAt(F,J);if(Util.isNotNull(I)&&I<F){this.resetChildIdx(I)
}else{this.resetChildIdx(F)}J.setParent(this)};y.prototype.removeChild=function(I){if(this.hasChild(I)){var F=this.childrenMap[I.nodeId];this.children.removeAt(F);delete this.childrenMap[I.nodeId];this.resetChildIdx(F);delete I.parent;delete I.level}};y.prototype.removeChildAt=function(F){var I=this.children[F];
this.children.removeAt(F);delete this.childrenMap[I.nodeId];this.resetChildIdx(F);delete I.parent;delete I.level};y.prototype.resetChildIdx=function(I){if(Util.isNull(I)){I=0}for(var F=I;F<this.children.length;F++){this.childrenMap[this.children[F].nodeId]=F
}};y.prototype.removeAllChildren=function(){for(var F=0;F<this.children.length;F++){delete this.children[F].parent;delete this.children[F].level}this.children.length=0;this.childrenMap={}};y.prototype.getSiblings=function(){if(this.isRoot()){return[]}var F=this.parent.children.slice();
F.removeAt(this.parent.getChildIdx(this));return F};y.prototype.getChildIdx=function(F){return this.childrenMap[F.nodeId]};y.prototype.getIdx=function(){if(this.isRoot()){return -1}return this.parent.getChildIdx(this)};y.prototype.getPath=function(){return this.traverse({res:[],up:true,post:true,fn:function(F){if(!this.isRoot()){F.res.push(this.getIdx())
}}}).res};y.prototype.getAncestors=function(){var F={res:[],up:true,post:true,fn:function(I){I.res.push(this)}};this.traverse(F);F.res.pop();return F.res};y.prototype.getDescendents=function(){var F={res:[],fn:function(I){I.res.push(this)}};this.traverse(F);
F.res.shift();return F.res};y.prototype.getLevel=function(){if(this.isRoot()){return this.level=-1}return this.level=this.parent.getLevel()+1};y.prototype.find=function(F){return this.traverse({fn:function(I){if(this.data===F){I.res=this;I.stop=true}}}).res
};y.prototype.traverse=function(I,F){if(I.stop){return I}if(I.up){if(this.isRoot()){this.callFn(I)}else{if(I.post){this.parent.traverse(I);this.callFn(I)}else{this.callFn(I);this.parent.traverse(I)}}}else{if(I.post){for(var J=0;J<this.children.length;J++){this.children[J].traverse(I,J)
}this.callFn(I,F)}else{this.callFn(I,F);if(I.propagate===false){delete I.propagate}else{for(var J=0;!I.stop&&J<this.children.length;J++){this.children[J].traverse(I,J)}}}}return I};y.prototype.traverseChildren=function(F){for(var I=0;I<this.children.length;
I++){this.children[I].traverse(F,I)}};y.prototype.traverseParent=function(F){if(Util.isNotNull(this.parent)){this.parent.traverse(F)}};y.prototype.callFn=function(I,F){if(!I.stop){if(Util.isNull(I.target)){Util.callFn(this,I.fn,I,F)}else{I.node=this;Util.callFn(I.target,I.fn,I,F)
}}};if(JGM){JGM.b("Tree",C);JGM.b("TreeNode",y)}function h(I){this.mid=I.mid;this.b=I.container;var F={a:"jgrid",b:"1px solid #868686",c:undefined,d:"15px Arial,Helvetica,sans-serif",e:"",f:true,g:"../images/",h:{data:"dataMgr.all",datalen:"dataMgr.all.length",shown:"dataMgr.datalist",set:"dataMgr.set",add:"dataMgr.add",addList:"dataMgr.addList",update:"dataMgr.update",updateList:"dataMgr.updateList",remove:"dataMgr.remove",removeList:"dataMgr.removeList",undo:"dataMgr.undo",redo:"dataMgr.redo",addFilter:"dataMgr.addFilter",removeFilter:"dataMgr.removeFilter",check:"collapser.checkMgr.checkList checkMgr.checkList",checked:"collapser.checkMgr.getCheckList checkMgr.getCheckList",register:"event.register",trigger:"event.trigger",bind:"event.bind",unregister:"event.unregister",unbind:"event.unregister",collen:"colDefMgr.length"},i:false};
this.Z=JGM.e(F,I.options,{classGrid:"a",border:"b",width:"c",font:"d",style:"e",borderSide:"f",imageUrl:"g",links:"h",autoWidth:"i"});this.event;this.colDefMgr;this.dataMgr;this.checkMgr;this.collapser;this.colGroup;this.view;this.header;this.footer;this.selMgr;
this.editMgr;this.tooltip;this.menubar;this.search;this.creator;this.d;this.W={a:false,b:undefined,c:undefined,d:undefined,e:undefined};this.Y(I)}h.X=function(F){return new h(F)};h.prototype.Y=function(F){this.b=$('<div id="'+this.mid+'" class="'+this.Z.a+'" tabIndex="0">').appendTo(Util$.safe$(this.b));
this.W.b=Util$.calScrollbarDims(this.b);this.event=JGM.create("EventManager",{grid:this,options:this.Z.EventManager});delete this.Z.EventManager;this.colDefMgr=JGM.create("ColDefManager",{grid:this,colDefs:F.colDefs,options:this.Z.ColDefManager});delete this.Z.ColDefManager;
this.dataMgr=JGM.create("DataManager",{grid:this,datalist:F.datalist,options:this.Z.DataManager});delete this.Z.DataManager;if(this.Z.CheckManager){this.checkMgr=JGM.create("CheckManager",{grid:this,options:this.Z.CheckManager});delete this.Z.CheckManager}if(this.Z.Collapser){this.collapser=JGM.create("Collapser",{grid:this,options:this.Z.Collapser});
this.collapser.Y();delete this.Z.Collapser}if(this.Z.ColGroup){this.colGroup=JGM.create("ColGroup",{grid:this,options:this.Z.ColGroup});delete this.Z.ColGroup}if(this.Z.SelectionManager){this.selMgr=JGM.create("SelectionManager",{grid:this,options:this.Z.SelectionManager});
delete this.Z.SelectionManager}if(this.Z.EditManager){this.editMgr=JGM.create("EditManager",{grid:this,options:this.Z.EditManager});delete this.Z.EditManager}if(this.Z.ColHeader){this.header=JGM.create("ColHeader",{grid:this,container:this.b,options:this.Z.ColHeader});
delete this.Z.ColHeader}if(this.Z.SearchManager){this.search=JGM.create("SearchManager",{grid:this,container:this.b,options:this.Z.SearchManager});delete this.Z.SearchManager}if(this.Z.MenuBar){this.menubar=JGM.create("MenuBar",{grid:this,container:this.b,options:this.Z.MenuBar});
delete this.Z.MenuBar}this.view=JGM.create("ViewportManager",{grid:this,container:this.b,options:this.Z.ViewportManager});delete this.Z.ViewportManager;if(this.Z.TooltipManager){this.tooltip=JGM.create("TooltipManager",{grid:this,container:this.b,options:this.Z.TooltipManager});
delete this.Z.TooltipManager}if(this.Z.DataCreator){this.creator=JGM.create("DataCreator",{grid:this,container:this.b,options:this.Z.DataCreator});delete this.Z.DataCreator}if(this.Z.Footer){this.footer=JGM.create("Footer",{grid:this,container:this.b,options:this.Z.Footer});
delete this.Z.Footer}this.j();if(this.Z.i){this.event.bind("onResizeCanvasWidth",this.width,this)}this.event.trigger("onCreateCss onBeforeRenderModules onRenderModules onAfterRenderModules");this.W.d=this.b[0].clientWidth;this.W.e=this.b[0].clientHeight;this.a(this.Z.h);
this.e()};h.prototype.e=function(){JGM.j();var F=this;this.b.bind({keydown:function(I){F.U(I)},keyup:function(I){F.T(I)},keypress:function(I){F.S(I)},mousein:function(I){F.R(I)},mouseout:function(I){F.Q(I)},mouseenter:function(I){F.P(I)},mouseleave:function(I){F.O(I)
},mouseover:function(I){F.M(I)},mousedown:function(I){F.L(I)},click:function(I){F.J(I)},dblclick:function(I){F.I(I)}})};h.prototype.destroy=function(){this.event.trigger("onDestroy");this.b.unbind().remove();delete this.b;Util.removeStyle(this.d);delete this.d;
for(var F in this.W){delete this.W[F]}delete this.W;delete this.Z;this.event.destroy();delete this.event;JGM.f("Grid",this.mid);delete this.mid;if(Util.isEmpty(JGM.m.Grid)){JGM.k()}};h.prototype.a=function(O){link_loop:for(var L in O){if(!(L in this)){var J=$.trim(O[L]).split(/\s+/);
arr_loop:for(var F=0;F<J.length;F++){var P=J[F].split(".");if(P.length<1){continue}var K=this;var N=this;var M="";for(var I=0;I<P.length;I++){if(!(P[I] in K)){continue arr_loop}else{N=K;K=K[P[I]];M=P[I]}}this.c(L,K,N,M);continue link_loop}}}};h.prototype.c=function(F,J,I,K){if(Util.isFunction(J)){this[F]=function(){return J.apply(I,arguments)
}}else{this[F]=function(){return I[K]}}};h.prototype.j=function(){this.d=Util.createStyle("#"+this.mid+"{overflow:hidden;font:"+this.Z.d+";"+(Util.isNull(this.Z.c)?"":"width:"+this.Z.c+"px;")+(this.Z.f===true?"border:"+this.Z.b+";":"border-top:"+this.Z.b+";border-bottom:"+this.Z.b+";")+this.Z.e+"}")
};h.prototype.h=function(){Util.removeStyle(this.d);this.j()};h.prototype.U=function(F){this.event.trigger("keydown_"+F.which+" keydown",[F])};h.prototype.T=function(F){this.event.trigger("keyup_"+F.which+" keyup",[F])};h.prototype.S=function(F){this.event.trigger("keypress_"+F.which+" keypress",[F])
};h.prototype.R=function(F){if(this.W.a){this.event.trigger("dragin mousein",[F])}else{this.event.trigger("mousein",[F])}};h.prototype.Q=function(F){if(this.W.a){this.event.trigger("dragout mouseout",[F])}else{this.event.trigger("mouseout",[F])}};h.prototype.P=function(F){if(this.W.a){this.event.trigger("dragenter mouseenter",[F])
}else{this.event.trigger("mouseenter",[F])}};h.prototype.O=function(F){if(this.W.a){this.event.trigger("dragleave mouseleave",[F])}else{this.event.trigger("mouseleave",[F])}};h.prototype.N=function(F){if(this.W.a){this.event.trigger("dragmove mousemove",[F])
}else{this.event.trigger("mousemove",[F])}};h.prototype.M=function(F){if(this.W.a){this.event.trigger("dragover mouseover",[F])}else{this.event.trigger("mouseover",[F])}};h.prototype.L=function(F){this.W.a=true;this.event.trigger("mousedown",[F])};h.prototype.K=function(F){this.W.a=false;
this.event.trigger("mouseup",[F])};h.prototype.J=function(F){this.event.trigger("click",[F])};h.prototype.I=function(F){this.event.trigger("dblclick",[F])};h.prototype.G=function(J){var K=false;var I=this.b[0].clientWidth;if(this.W.d!==I){this.event.trigger("resizeWidth",[I,this.W.d]);
this.W.d=I;K=true}var F=this.b[0].clientHeight;if(this.W.e!==F){this.event.trigger("resizeHeight",[F,this.W.e]);this.W.e=F;K=true}if(K){this.event.trigger("resize",[J])}};h.prototype.width=function(F){if(Util.isNull(F)){return this.b[0].clientWidth}this.b[0].style.width=F+"px";
this.event.trigger("resizeWidth",[F,this.W.d]);this.W.d=F;return F};h.prototype.height=function(F){if(Util.isNull(F)){return this.b[0].clientHeight}this.b[0].style.height=F+"px";this.event.trigger("resizeHeight",[F,this.W.e]);this.W.e=F;return F};JGM.b("Grid",h);
function B(I){this.mid=I.mid;var F={a:undefined,a:300};this.Z=JGM.e(F,I.options,{size:"a",freeSize:"a"});this.a={};this.b=0}B.X=function(F){return new B(F)};B.prototype.destroy=function(){for(var F in this.a){delete this.a[F]}delete this.a;delete this.b;delete this.Z;
JGM.f("Cache",this.mid);delete this.mid};B.prototype.get=function(F){return this.a[F]};B.prototype.remove=function(F){if(F in this.a){var I=this.a[F];delete this.a[F];this.b--;return I}};B.prototype.hasKey=function(F){return F in this.a};B.prototype.add=function(F,I){if(F in this.a){this.a[F]=I;
return I}if(this.b===this.Z.a){this.free(this.Z.a)}this.a[F]=I;this.b++;return I};B.prototype.free=function(I){if(Util.isNull(I)){I=1}for(var F in this.a){delete this.a[F];this.b--;if(--I<=0){return}}};B.prototype.freeAll=function(){this.a={};this.b=0};B.prototype.addAll=function(F){for(var I=0;
I<F.length;I++){this.add(F[I].key,F[I].val)}};JGM.b("Cache",B);function m(F){this.grid=F.grid;this.a=F.row;this.b=F.col;this.d=F.$;this.e=F.node;this.h=F.datarow;this.i=F.colDef;this.Y(F)}m.X=function(F){return new m(F)};m.prototype.Y=function(F){if(Util.isNotNull(F.event)){this.d=this.grid.view.Az(F.event.target)
}};m.prototype.destroy=function(){delete this.grid;delete this.a;delete this.b;delete this.d;delete this.e;delete this.h;delete this.i};m.prototype.getRowIdx=function(){if(this.a>=0){return this.a}if(Util.isNotNull(this.e)){return this.a=this.grid.view.Aw(this.e.parentNode)
}if(this.has$()){this.e=this.d[0];return this.a=this.grid.view.Aw(this.e.parentNode)}if(Util.isNotNull(this.h)){return this.a=this.grid.dataMgr.getIdx(this.h)}};m.prototype.getColIdx=function(){if(this.b>=0){return this.b}if(Util.isNotNull(this.e)){return this.b=Util.index(this.e)
}if(this.has$()){this.e=this.d[0];return this.b=Util.index(this.e)}};m.prototype.getNode=function(){if(Util.isNotNull(this.e)&&Util.isNotNull(this.e.parentNode)&&Util.isNotNull(this.e.parentNode.parentNode)){return this.e}if(this.has$()){return this.d[0]}if(this.a>=0&&this.b>=0){return this.e=this.grid.view.Ax(this.a,this.b)
}if(Util.isNotNullAnd(this.h,this.i)){this.a=this.grid.dataMgr.getIdx(this.h);this.b=this.grid.colDefMgr.getIdx(this.i);return this.e=this.grid.view.Ax(this.a,this.b)}};m.prototype.get$=function(){if(this.has$()){return this.d}if(Util.isNotNull(this.getNode())){return this.d=$(this.e)
}};m.prototype.getDatarow=function(){if(Util.isNotNull(this.h)){return this.h}this.getRowIdx();if(this.a>=0){return this.h=this.grid.dataMgr.datalist[this.a]}};m.prototype.getColDef=function(){if(Util.isNotNull(this.i)){return this.i}this.getColIdx();if(this.b>=0){return this.i=this.grid.colDefMgr.get(this.b)
}};m.prototype.getKey=function(){if(Util.isNotNull(this.getColDef())){return this.i.key}};m.prototype.f=function(){this.getDatarow();this.getColDef()};m.prototype.getValue=function(){var F=this.getColDef();var I=this.getDatarow();if(Util.isNullOr(I,F)){return null
}return I[F.key]};m.prototype.isValid=function(){return Util.isNotNull(this.getNode())};m.prototype.isInvalid=function(){return Util.isNull(this.getNode())};m.prototype.isEmpty$=function(){return(Util.isNull(this.d)||this.d.length!==1||Util.isNull(this.d[0].parentNode)||Util.isNull(this.d[0].parentNode.parentNode))?true:false
};m.prototype.has$=function(){return(Util.isNull(this.d)||this.d.length!==1||Util.isNull(this.d[0].parentNode)||Util.isNull(this.d[0].parentNode.parentNode))?false:true};m.prototype.equals=function(F){return(Util.isNotNull(F)&&Util.isNotNull(this.getDatarow())&&this.h===F.getDatarow()&&Util.isNotNull(this.getColDef())&&this.i===F.getColDef())?true:false
};JGM.b("Cell",m);function f(I){this.mid=I.mid;this.grid=I.grid;var F={a:{key:"checkbox",width:20,name:" ",noTitle:true,resizable:false,sorter:null},b:0,c:undefined,d:"checkmg",e:"checkm",f:true,g:false};this.Z=JGM.e(F,I.options,{colDef:"a",colIdx:"b",name:"c",classCheck:"d",classMasterCheck:"e",master:"f",isRadio:"g"});
if(this.Z.g){if(Util.isNull(this.Z.c)){this.Z.c="radio"+this.mid}this.Z.f=false}this.a={};this.b=0;this.d=false;this.c;this.l;this.Y()}f.X=function(F){return new f(F)};f.prototype.Y=function(){this.grid.colDefMgr.addAt(this.Z.b,this.Z.a);if(Util.isNull(JGM.g.c)){var I=Util.calCheckSize();
JGM.g.c=I.checkboxW;JGM.g.d=I.checkboxH;JGM.g.e=I.radioW;JGM.g.f=I.radioH}var F={onCreateCss:this.V,onDestroy:this.aA,onAfterSetDatalist:this.uncheckAll,onIdChange:this.ai,onIdListChange:this.aj,onRemoveDatarow:this.af,onRemoveDatalist:this.ag};F["onRenderCell_"+this.Z.a.key+"_prepend"]=this.aH;
F["keydownColSel_"+this.Z.a.key+"_"+Util.keyMapKeydown.space]=this.bA;if(this.Z.f){F["onRenderHeader_"+this.Z.a.key+"_prepend"]=this.aG;F.onRenderHeadersComplete=this.h}this.grid.event.bind(F,this)};f.prototype.aA=function(){if("checkMgr" in this.grid){delete this.grid.checkMgr
}delete this.grid;for(var F in this.a){delete this.a[F]}delete this.a;delete this.b;delete this.d;if(Util.isNotNull(this.c)){this.c.remove();delete this.c}delete this.Z;Util.removeStyle(this.l);delete this.l;JGM.f("CheckManager",this.mid);delete this.mid};f.prototype.V=function(){var F,I;
if(this.Z.g){F=JGM.g.e;I=JGM.g.f}else{F=JGM.g.c;I=JGM.g.d}var J="*overflow:hidden;padding:0;width:"+F+"px;height:"+I+"px;";this.l=Util.createStyle(this.grid.view.AG()+" ."+this.Z.d+'[mid="'+this.mid+'"]{'+J+"margin:"+((this.grid.view.AO()-I)/2)+"px 0 0 "+((this.Z.a.width-this.grid.view.AM()-F)/2)+"px}#"+this.mid+"h{"+J+"margin:"+((this.grid.header.Z.l-I)/2)+"px 0 0 0}")
};f.prototype.checkList=function(J,I){if(!I){J=this.grid.dataMgr.mapList(J).mapped}for(var F=0;F<J.length;F++){this.check(J[F].data,true)}};f.prototype.setCheckList=function(I,F){this.uncheckAll();this.checkList(I,F)};f.prototype.getCheckList=function(){var F=[];
for(var I in this.a){F.push(this.a[I])}return F};f.prototype.toggleCheckAll=function(){if(this.isCheckedAll()){this.uncheckAll()}else{this.checkAll()}};f.prototype.checkAll=function(){if(this.Z.f){f.a(this.c)}f.a(this.i());this.grid.event.trigger("recache");
var J=this.grid.dataMgr.all;var F=this.grid.dataMgr.idKey;var K=J.length;for(var I=0;I<K;I++){this.a[J[I][F]]=J[I]}this.b=K};f.prototype.uncheckAll=function(){if(this.Z.f){f.b(this.c)}f.b(this.i());this.grid.event.trigger("recache");this.a={};this.b=0};f.prototype.toggleCheck=function(I,F){if(!F){I=this.grid.dataMgr.map(I).data
}if(this.isChecked(I,true)&&!this.Z.g){this.uncheck(I,true)}else{this.check(I,true)}};f.prototype.toggle=function(F){this.toggleCheck(this.grid.dataMgr.getById(F),true)};f.prototype.check=function(I,F){if(!F){I=this.grid.dataMgr.map(I).data}if(!this.f(I)){return
}this.grid.event.trigger("removeRowCache",[this.grid.dataMgr.getIdx(I)]);f.a(this.j(I));this.e();this.grid.event.trigger("onCheckChange",[I,true])};f.prototype.uncheck=function(I,F){if(!F){I=this.grid.dataMgr.map(I).data}if(!this.g(I)){return}this.grid.event.trigger("removeRowCache",[this.grid.dataMgr.getIdx(I)]);
f.b(this.j(I));if(this.Z.f){f.b(this.c)}this.grid.event.trigger("onCheckChange",[I,false])};f.prototype.e=function(){if(this.Z.f){f.c(this.c,this.isCheckedAll())}};f.prototype.f=function(I){if(!this.isChecked(I,true)){if(this.Z.g){for(var F in this.a){this.grid.event.trigger("removeRowCache",[this.grid.dataMgr.getIdxById(F)]);
delete this.a[F]}this.b=0}this.a[I[this.grid.dataMgr.idKey]]=I;this.b++;return true}return false};f.prototype.g=function(F){if(this.isChecked(F,true)){delete this.a[F[this.grid.dataMgr.idKey]];this.b--;return true}return false};f.prototype.isChecked=function(I,F){if(!F){I=this.grid.dataMgr.map(I).data
}return I[this.grid.dataMgr.idKey] in this.a};f.prototype.isCheckedAll=function(){return(this.b!==0&&this.b===this.grid.dataMgr.all.length?true:false)};f.prototype.h=function(){this.c=$(document.getElementById(this.mid+"h"))};f.prototype.i=function(){return this.grid.event.trigger("canvasFind",["input."+this.Z.d+'[mid="'+this.mid+'"]'])[0]
};f.prototype.j=function(F){return $(document.getElementById(this.mid+F[this.grid.dataMgr.idKey]))};f.prototype.k=function(F){return document.getElementById(this.mid+F[this.grid.dataMgr.idKey])};f.prototype.af=function(F){this.uncheck(F,true)};f.prototype.ag=function(I){for(var F=0;
F<I.length;F++){this.uncheck(I[F],true)}};f.prototype.ai=function(I,F,J){if(F in this.a){delete this.a[F];this.a[J]=I}};f.prototype.aj=function(K,L,I){var F=K.length;for(var J=0;J<F;J++){if(L[J] in this.a){delete this.a[L[J]];this.a[K[J][I]]=K[J]}}};f.prototype.bA=function(K,J,F){K.preventDefault();
if(Util.isNotNullAnd(J,F)){var I=this.isChecked(F.getDatarow(),true);if(this.Z.g){for(var L in J){if(L==="length"){continue}this.check(this.grid.dataMgr.datalist[L],true);return}}else{for(var L in J){if(L==="length"){continue}if(I){this.uncheck(this.grid.dataMgr.datalist[L],true)
}else{this.check(this.grid.dataMgr.datalist[L],true)}}}}};f.prototype.aG=function(F){F.push('<input id="'+this.mid+'h" type="checkbox" tabIndex="-1" onclick="JGM.m.CheckManager.'+this.mid+'.toggleCheckAll();" class="'+this.Z.d+" "+this.Z.e+'" mid="'+this.mid+'"');
if(this.isCheckedAll()){F.push(' checked="checked"')}if(this.d){F.push(' disabled="disabled"')}F.push("/>")};f.prototype.aH=function(J,M,K,I,L,F){L.push('<input id="'+this.mid+K[F]+'" tabIndex="-1" onclick="JGM.m.CheckManager.'+this.mid+".toggle('"+K[F]+'\')" type="'+(this.Z.g?"radio":"checkbox")+'" class="'+this.Z.d+'" mid="'+this.mid+'"');
if(Util.isNotNull(this.Z.c)){L.push(' name="'+this.Z.c+'"')}if(this.isChecked(K,true)){L.push(' checked="checked"')}if(this.d){L.push(' disabled="disabled"')}L.push("/>")};f.prototype.disable=function(){if(this.d){return}this.d=true;if(this.Z.f){this.c.attr("disabled","disabled")
}this.i().attr("disabled","disabled");this.grid.event.trigger("recache")};f.prototype.enable=function(){if(!this.d){return}this.d=false;if(this.Z.f){this.c.removeAttr("disabled")}this.i().removeAttr("disabled");this.grid.event.trigger("recache")};f.a=function(F){if(Util.isNotNull(F)){F.attr("checked","checked")
}};f.b=function(F){if(Util.isNotNull(F)){F.removeAttr("checked")}};f.c=function(I,F){if(F){f.a(I)}else{f.b(I)}};JGM.b("CheckManager",f);function d(I){this.mid=I.mid;this.grid=I.grid;this.grid.colDefMgr=this;var F={a:{key:undefined,name:"",colClass:undefined,defaultValue:undefined,inputOnCreate:undefined,style:"",headerStyle:"",width:80,minW:30,maxW:undefined,editor:undefined,sorter:undefined,hidden:false,sumRenderer:undefined,tooltipEnabled:false,resizable:false,renderer:JGM.ViewportManager.AD,rendererInput:false,noTitle:false,noName:false,title:undefined}};
this.Z=JGM.e(F,I.options,{colDef:"a"});this.a=I.colDefs;this.b;this.c={};this.d={};this.Y()}d.X=function(F){return new d(F)};d.prototype.Y=function(){this.grid.event.bind("onDestroy",this.aA,this);this.setAll()};d.prototype.aA=function(){delete this.grid.colDefMgr;
delete this.grid;delete this.Z;delete this.a;this.b.length=0;delete this.b;for(var F in this.c){delete this.c[F]}delete this.c;for(var F in this.d){delete this.d[F]}delete this.d;JGM.f("ColDefManager",this.mid);delete this.mid};d.prototype.getAll=function(){return this.a
};d.prototype.setAll=function(F){if(Util.isNotNull(F)){this.a=F}for(var I=0;I<this.a.length;I++){this.i(this.a[I])}this.e()};d.prototype.e=function(){this.b=this.a.filter(function(F){return F.hidden?false:true});this.f()};d.prototype.f=function(){this.d={};
this.g()};d.prototype.g=function(I){if(Util.isNull(I)){I=0}for(var F=I;F<this.b.length;F++){this.d[this.b[F].key]=F}};d.prototype.get=function(F){if(Util.isNull(F)){return this.b}return this.b[F]};d.prototype.length=function(){return this.b.length};d.prototype.addAt=function(F,I){this.a.push(I);
this.i(I);this.b.addAt(F,I);this.g(F)};d.prototype.sortByKey=function(I){this.b.length=0;this.d={};for(var F=0;F<I.length;F++){this.b.push(this.c[I[F]]);this.d[I[F]]=F}this.grid.view.Ba();return this.b};d.prototype.getByKey=function(F){return this.c[F]};d.prototype.getIdxByKey=function(F){if(F in this.d){return this.d[F]
}return -1};d.prototype.getIdx=function(F){if(F.key in this.d){return this.d[F.key]}return -1};d.prototype.set=function(F){if(this.b===F){return}this.b.length=0;this.b.pushList(F);this.f()};d.prototype.i=function(I){if(I.key in this.c){return}var F={};$.extend(true,F,this.Z.a);
$.extend(true,F,I);$.extend(true,I,F);var J=d.sorter(I.sorter,I.key);if(Util.isNotNull(J)){J.key=I.key;I.sorter=J}this.c[I.key]=I};d.sorter=function(J,I,F){F=F?true:false;if(J=="text"){return{lexi:I,on:F,key:I}}if(J=="int"){return{on:F,comparator:function(M,L){var K=M[I];
var N=L[I];if(Util.isNull(K)){K=Number.MAX_VALUE}else{if(typeof K==="string"){K=K.toInt()}}if(Util.isNull(N)){N=Number.MAX_VALUE}else{if(typeof N==="string"){N=N.toInt()}}return K-N},key:I}}if(J=="float"){return{on:F,comparator:function(M,L){var K=M[I];var N=L[I];
if(Util.isNull(K)){K=Number.MAX_VALUE}else{if(typeof K==="string"){K=K.toFloat()}}if(Util.isNull(N)){N=Number.MAX_VALUE}else{if(typeof N==="string"){N=N.toFloat()}}return K-N},key:I}}return null};JGM.b("ColDefManager",d);function o(I){this.mid=I.mid;this.b=I.container;
this.a;this.c;this.grid=I.grid;this.grid.header=this;var F={a:false,b:true,c:"url("+this.grid.Z.g+"column-headers-bg.png) repeat-x scroll center",d:"url("+this.grid.Z.g+"column-headers-over-bg.png) repeat-x scroll center",e:"#646464",f:this.grid.Z.g+"sort.png",g:4,h:7,i:this.grid.Z.g+"sort-asc.png",j:this.grid.Z.g+"sort-desc.png",k:"15px Arial,Helvetica,sans-serif",l:21,n:1,o:"solid #909192",p:"jgrid-header-mask",q:"jgrid-header",r:"jgrid-colheader",s:"jgrid-colheader-active",t:"jgrid-colheader-placeholder",u:"interactive",v:"jgrid-colheader-sorted",w:"jgrid-sort",x:"jgrid-sort-asc",y:"jgrid-sort-desc",z:"jgrid-resize-handle",A:11,B:"",C:"",D:10000,E:100000,F:"resize-guide",G:1,H:"black;filter:alpha(opacity=50);opacity:0.5",I:false};
this.Z=JGM.e(F,I.options,{reorderEnabled:"a",reorderSyncEnabled:"b",background:"c",backgroundHover:"d",backgroundPlaceholder:"e",sortBackground:"f",sortRight:"g",sortWidth:"h",sortBackgroundAsc:"i",sortBackgroundDesc:"j",font:"k",height:"l",borderThickness:"n",border:"o",classHeaderMask:"p",classHeader:"q",classColHeader:"r",classColHeaderActive:"s",classColHeaderPlaceholder:"t",classInteractive:"u",classColHeaderSorted:"v",classSort:"w",classSortAsc:"x",classSortDesc:"y",classResizeHandle:"z",resizeHandleWidth:"A",style:"B",headerStyle:"C",scrollerLeft:"D",scrollerWidth:"E",classResizeGuide:"F",resizeGuideWidth:"G",resizeBackground:"H",syncResize:"I"});
this.d={};this.n;this.o;this.p;this.q;this.r={};this.v;this.w;this.x;this.Y()}o.X=function(F){return new o(F)};o.prototype.Y=function(){this.a=$('<div class="'+this.Z.p+'">').prependTo(this.b);this.c=$('<div class="'+this.Z.q+'">').appendTo(this.a);o.e(this.c);
var J={onRenderModules:this.aE,onAfterRenderModules:this.aF,onCreateCss:this.V,onDestroy:this.aA,mousedown:this.L,mouseup:this.K,dragmove:this.H,onScrollViewportH:this.bo,onChangeSorter:this.l,click:this.J};var F=this.grid.colDefMgr.get();for(var I=0;I<F.length;
I++){if(Util.isNotNull(F[I].sorter)){J["clickHeader_"+F[I].key]=this.i}}this.grid.event.bind(J,this)};o.prototype.aA=function(){delete this.grid.header;delete this.grid;this.t();delete this.r;if(this.c.sortable){this.c.sortable("destroy")}this.c.remove();this.a.remove();
delete this.Z;for(var F in this.d){delete this.d[F]}delete this.d;delete this.b;this.w.remove();delete this.w;Util.removeStyle(this.x);delete this.x;JGM.f("ColHeader",this.mid);delete this.mid};o.prototype.V=function(){var F="#"+this.grid.mid+" .";var M=this.Z;
var J=M.n+"px "+M.o;var L=[];L.push(F+M.p+"{position:relative;overflow:hidden;width:100%;font:"+M.k+";background:"+M.c+";border-bottom:"+J+";"+M.B+"}");L.push(F+M.q+"{position:relative;overflow:hidden;white-space:nowrap;cursor:default;left:"+(-M.D)+"px;width:"+M.E+"px;line-height:"+M.l+"px}");
L.push(F+M.r+"{position:relative;overflow:hidden;float:left;text-overflow:ellipsis;text-align:center;height:"+M.l+"px;left:"+(M.D-this.grid.view.h())+"px;border-right:"+J+";"+M.C+"}");L.push(F+M.r+"."+M.u+":hover, "+F+M.s+"{background:"+M.d+"}");L.push(F+M.s+"{border-left:"+J+"}");
L.push(F+M.r+"."+M.t+"{background:"+M.e+"!important}");L.push(F+M.w+"{position:absolute;height:"+M.l+"px;right:"+M.g+"px;width:"+M.h+"px;background:url("+M.f+") no-repeat center transparent}");L.push(F+M.x+"{background:url("+M.i+") no-repeat center transparent}");
L.push(F+M.y+"{background:url("+M.j+") no-repeat center transparent}");L.push(F+M.z+"{z-index:10;cursor:e-resize;position:absolute;height:"+M.l+"px;width:"+M.A+"px}");L.push(F+M.F+"{z-index:10;position:absolute;background:"+M.H+";top:0;width:"+M.G+"px}");var I=this.grid.colDefMgr.get();
for(var K=0;K<I.length;K++){L.push(F+M.r+"#"+this.mid+"h"+I[K].key+"{"+I[K].headerStyle+"}")}this.x=Util.createStyle(L.join(""))};o.prototype.f=function(){return this.Z.n};o.prototype.bo=function(F){this.c[0].style.left=(-this.Z.D-F)+"px"};o.prototype.L=function(J){if(J.target.className===this.Z.z){this.n=J.target.getAttribute("key");
this.q=this.get(this.n)[0].clientWidth;this.v=this.grid.colDefMgr.getByKey(this.n).width;this.o=J.clientX;this.p=this.r[this.n][0].style.left.toFloat();this.w[0].style.left=Math.floor(this.p+(this.Z.A-this.Z.G)/2-this.Z.D)+"px";this.w[0].style.height=this.grid.view.getInnerHeight()+"px";
this.w[0].style.display="block";return}var I=this.h(J.target);if(I.length===0){return}this.grid.event.trigger("mousedownHeader",[J,I]);var F=this.y(I);this.grid.event.trigger("mousedownHeader_"+F.key,[J,I,F])};o.prototype.J=function(L){var K=this.h(L.target);
if(K.length===0){return}var J=this.y(K);var I=this.grid.event.trigger("clickHeaderValid_"+J.key,[L,K,J]);for(var F=0;F<I.length;F++){if(I[F]===false){return}}this.grid.event.trigger("clickHeader_"+J.key+" clickHeader",[L,K,J])};o.prototype.aE=function(){var F=this.grid.colDefMgr.get();
var K=[];for(var I=0;I<F.length;I++){var J=F[I];if(J.hidden){continue}this.g(K,J,I)}this.c[0].innerHTML=K.join("");this.grid.event.trigger("onRenderHeadersComplete")};o.prototype.aF=function(){if(this.Z.a){this.k()}this.u();this.w=$('<div class="'+this.Z.F+'">').appendTo(this.grid.view.a)
};o.prototype.g=function(L,J,I){if(Util.isNull(J)){return}var F=(J.noName?"":J.name||J.key);var K=this.f();L.push('<div id="'+this.mid+"h"+J.key+'" class="'+this.Z.r+" "+(this.Z.a||Util.isNotNull(J.sorter)?" "+this.Z.u:"")+'" '+(J.noTitle?"":'title="'+(J.title||F)+'" ')+'style="width:'+(this.grid.view.AK(I)-K)+'px;" colKey="'+J.key+'">');
this.grid.event.trigger("onRenderHeader_"+J.key+"_prepend",[L]);L.push(F);this.grid.event.trigger("onRenderHeader_"+J.key+"_append",[L]);if(Util.isNotNull(J.sorter)){L.push('<span class="'+this.Z.w+'"></span>')}L.push("</div>")};o.e=function(F){Util$.safe$(F).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false
})};o.prototype.get=function(F){if(F in this.d){return this.d[F]}var I=document.getElementById(this.mid+"h"+F);if(Util.isNull(I)){return $([])}return this.d[F]=$(I)};o.prototype.m=function(J,I){var K=this.get(J);if(K.length===0){return}var F=K.find("."+this.Z.w);
if(I===0){K.removeClass(this.Z.v);F.removeClass(this.Z.x+" "+this.Z.y)}else{K.addClass(this.Z.v);if(I===1){F.addClass(this.Z.x).removeClass(this.Z.y)}else{if(I===2){F.addClass(this.Z.y).removeClass(this.Z.x)}}}};o.prototype.h=function(F){return Util$.safe$(F).closest("div."+this.Z.r,this.c)
};o.prototype.y=function(F){return this.grid.colDefMgr.getByKey(F.attr("colKey"))};o.prototype.i=function(J,I,F){if($(J.target).hasClass(this.Z.cssColResizeHandle)){return}var K=F.sorter;if(Util.isNull(K)){return}this.grid.event.trigger("onBeforeColSort_"+F.key+" onBeforeColSort");
K.desc=(K.desc===false)?true:false;this.grid.dataMgr.refresh(K)};o.prototype.l=function(I,F){if(I===F){if(Util.isNotNull(F)){this.m(F.key,(F.desc?2:1))}return}if(Util.isNotNull(I)){this.m(I.key,0)}if(Util.isNotNull(F)){this.m(F.key,(F.desc?2:1))}};o.prototype.k=function(){var K=this;
var I=this.grid.colDefMgr;var F=this.c;var J=this.mid.length+1;F.sortable({items:"."+this.Z.r,axis:"x",forcePlaceholderSize:true,placeholder:this.Z.t+" "+this.Z.r,tolerance:"pointer",start:function(M,L){L.item.addClass(K.Z.s)},stop:function(M,L){L.item.removeClass(K.Z.s);
K.t();K.u()},update:function(O,N){var M=$(F).sortable("toArray");for(var L=0;L<M.length;L++){if(M[L]===""){M[L]=N.item.attr("id").substring(J)}else{M[L]=M[L].substring(J)}}I.sortByKey(M)}});if(this.Z.b){F.sortable("option","change",function(O,N){var M=$(F).sortable("toArray");
for(var L=0;L<M.length;L++){if(M[L]===""){M[L]=N.item.attr("id").substring(J)}else{M[L]=M[L].substring(J)}}I.sortByKey(M)})}};o.prototype.s=function(K,J){var I=K.clientX-this.o;var F=J.minW;if(this.q+I<F){I=F-this.q}var L=Util.ifNull(J.maxW,Number.MAX_VALUE);
if(this.q+I>L){I=L-this.q}return I};o.prototype.H=function(J){if(Util.isNull(this.n)){return}var I=this.grid.colDefMgr.getByKey(this.n);var F=this.s(J,I);if(Math.abs(F)<1){return}this.get(this.n)[0].style.width=this.q+F+"px";this.r[this.n][0].style.left=this.p+F+"px";
this.w[0].style.left=Math.floor(this.p+F+(this.Z.A-this.Z.G)/2-this.Z.D)+"px";if(this.Z.I){this.grid.view.setWidthByKey(this.n,this.v+F)}};o.prototype.K=function(M){if(Util.isNull(this.n)){return}this.w[0].style.height="0px";this.w[0].style.display="none";var L=this.grid.colDefMgr.getByKey(this.n);
var I=this.s(M,L);if(Math.abs(I)>=1){this.get(this.n)[0].style.width=this.q+I+"px";this.r[this.n][0].style.left=this.p+I+"px";var F=this.grid.colDefMgr.get();for(var K=this.grid.colDefMgr.getIdx(L)+1;K<F.length;K++){var J=F[K].key;if(J in this.r){this.r[J][0].style.left=this.r[J][0].style.left.toFloat()+I+"px"
}}this.grid.view.setWidthByKey(this.n,this.v+I)}delete this.n;delete this.o;delete this.p;delete this.q;delete this.v;this.bo(this.grid.view.h())};o.prototype.t=function(){for(var F in this.r){this.r[F].remove();delete this.r[F]}delete this.n;delete this.o;
delete this.p;delete this.q;delete this.v};o.prototype.u=function(){var F=this.grid.colDefMgr.get();var J=this;for(var I=0;I<F.length;I++){var K=F[I];if(K.resizable){this.r[K.key]=$('<div class="'+this.Z.z+'" key="'+K.key+'" style="left:'+Math.floor(this.Z.D-this.grid.view.h()+this.grid.view.getColLeft(I+1)-this.Z.A/2)+'px" title="'+K.name+'   .">').appendTo(this.c)
}}};JGM.b("ColHeader",o);function a(I){this.mid=I.mid;this.grid=I.grid;this.grid.collapser=this;var F={e:undefined,a:{key:"collapser",width:120,name:" "},b:0,c:this.grid.Z.g+"collapsed.png",d:this.grid.Z.g+"collapsed-hover.png",f:this.grid.Z.g+"expanded.png",g:this.grid.Z.g+"expanded-hover.png",h:6,i:5,j:"jgrid-collapser",k:"collapsed",l:"expanded",m:"indent",n:"master",o:12,p:false,CheckManager:undefined,Tree:undefined};
this.Z=JGM.e(F,I.options,{colDef:"a",colIdx:"b",urlCollapsed:"c",urlCollapsedHover:"d",key:"e",urlExpanded:"f",urlExpandedHover:"g",width:"h",padding:"i",classCollapser:"j",classCollapsed:"k",classExpanded:"l",classIndent:"m",classMasterCollapser:"n",indentSize:"o",beginCollapsed:"p"});
if(this.Z.CheckManager){this.checkMgr=JGM.create("CheckManager",{grid:this.grid,options:this.Z.CheckManager});delete this.Z.CheckManager;if(Util.isNull(this.Z.e)){this.Z.b++}}this.a=JGM.create("Tree",{list:this.grid.dataMgr.all,options:this.Z.Tree});this.j;
this.c}a.X=function(F){return new a(F)};a.prototype.Y=function(){if(Util.isNull(this.Z.e)){this.grid.colDefMgr.addAt(this.Z.b,this.Z.a)}this.d();this.g();var F=Util.isNull(this.Z.e)?this.Z.a.key:this.Z.e;var I={onAfterFilter:this.as,onCreateCss:this.V,onDestroy:this.aA,onAfterSetDatalist:this.ab,onAddDatarow:this.ac,onAddDatalist:this.ad,onUpdateDatarow:this.ae,onUpdateDatalist:this.ah,onRemoveDatarow:this.A,onRemoveDatalist:this.ag,onRenderHeadersComplete:this.h};
I["onRenderHeader_"+F+"_prepend"]=this.aG;I["clickHeaderValid_"+F]=this.bO;I["onRenderCell_"+F+"_prepend"]=this.aH;I["dblclickCanvas_"+F]=this.bi;I["keydownColSel_"+F+"_"+Util.keyMapKeydown.space]=this.bA;if(Util.isNotNull(this.checkMgr)){I.onCheckChange=this.f
}this.grid.event.bind(I,this)};a.prototype.aA=function(){delete this.grid.collapser;delete this.grid;if(Util.isNotNull(this.c)){this.c.remove();delete this.c}delete this.Z;delete this.checkMgr;this.a.destroy();delete this.a;Util.removeStyle(this.j);delete this.j;
JGM.f("Collapser",this.mid);delete this.mid};a.prototype.V=function(){var F="#"+this.grid.mid+" .";var N=this.Z;var J=F+this.grid.view.Z.l+" .";var O=F+N.j;var L=O+"."+N.l;var I=O+"."+N.k;var M=[];M.push(F+N.m+"{height:"+this.grid.view.AO()+"px;float:left;}");
M.push(O+"{width:"+N.h+"px;float:left;padding:0 "+N.i+"px}");M.push(J+N.j+"{height:"+this.grid.view.AO()+"px}");M.push(L+"{background:url("+N.f+") no-repeat center transparent}");M.push(L+":hover{background:url("+N.g+") no-repeat center transparent}");M.push(I+"{background:url("+N.c+") no-repeat center transparent}");
M.push(I+":hover{background:url("+N.d+") no-repeat center transparent}");if(Util.isNotNull(this.grid.header)){var K=F+this.grid.header.Z.r+" .";M.push(K+N.j+"{height:"+this.grid.header.Z.l+"px}")}this.j=Util.createStyle(M.join(""))};a.prototype.ab=function(F){this.a.destroy();
this.a=JGM.create("Tree",{list:this.grid.dataMgr.all,options:this.Z.Tree});this.d()};a.prototype.ac=function(I){var F=this.a.createNode(I);F._collapsed=this.Z.p;if(Util.isNotNull(F.parent)&&(F.parent===F.tree.root||(F.parent._shown&&!F.parent._collapsed))){F._shown=true
}else{F._shown=false}if(F._collapsed===true||F._shown===false){F.traverseChildren({fn:function(J){this._shown=false}})}else{F.traverseChildren({fn:function(J){if(Util.isNotNull(this.parent)&&(this.parent===this.tree.root||(this.parent._shown&&!this.parent._collapsed))){this._shown=true
}else{J.propagate=false;this.traverse({fn:function(K){this._shown=false}})}}})}this.grid.event.trigger("onCollapserTreeChange")};a.prototype.ad=function(I){for(var F=0;F<I.length;F++){this.a.createNode(I[F])._collapsed=this.Z.p}this.a.root.traverseChildren({fn:function(J){if(Util.isNotNull(this.parent)&&(this.parent===this.tree.root||(this.parent._shown&&!this.parent._collapsed))){this._shown=true
}else{J.propagate=false;this.traverse({fn:function(K){this._shown=false}})}}});this.grid.event.trigger("onCollapserTreeChange")};a.prototype.ae=function(L,M,K){var I=this.a.Z.nodeKey;var F=this.a.Z.parentKey;var J;if(I in M){J=this.a.getNodeByNodeId(K[I]);this.a.changeNodeId(J,K[I],M[I]);
this.grid.event.trigger("onCollapserTreeChange")}if(F in M){if(Util.isNull(J)){J=this.a.getNode(L)}this.a.changeParentId(J,K[F],M[F]);this.grid.event.trigger("onCollapserTreeChange")}};a.prototype.ah=function(I,P){var M;var R=this.a;var K=R.Z.nodeKey;var O=R.Z.parentKey;
var L;var N;var Q=[];var F=[];for(var J=0;J<P.length;J++){M=P[J];L=I[J];N=undefined;if(K in M){if(Util.isNull(N)){N=R.getNodeByNodeId(M[K])}Q.push({node:N,before:M[K],newId:L[K]})}if(O in M){if(Util.isNull(N)){N=R.getNode(L)}F.push({node:N,before:M[O],newId:L[O]})
}}if(Q.length+F.length===0){}else{if(Q.length+F.length>10){R.reattach();this.grid.event.trigger("onCollapserTreeChange")}else{for(var J=0;J<Q.length;J++){R.changeNodeId(Q[J].node,Q[J].before,Q[J].newId)}for(var J=0;J<F.length;J++){R.changeParentId(F[J].node,F[J].before,F[J].newId)
}this.grid.event.trigger("onCollapserTreeChange")}}};a.prototype.A=function(F){this.a.destroyNodeByData(F);this.grid.event.trigger("onCollapserTreeChange")};a.prototype.ag=function(I){for(var F=0;F<I.length;F++){this.a.destroyNodeByData(I[F])}this.grid.event.trigger("onCollapserTreeChange")
};a.prototype.as=function(M,N){if(N.length>0){var J=this.grid.dataMgr;J.g();this.a.reattach();var I=M.length;var L=J.b;var F=J.idKey;var O;for(var K=0;K<I;K++){this.a.getNode(M[K]).traverse({up:true,fn:function(P){if(Util.isNotNull(this.parent)){O=this.parent.data;
if(Util.isNotNull(O)&&!J.has(O)){M.push(O);N.remove(O);L[O[F]]=-1}}else{P.stop=true}}})}this.a.reattach(M);this.a.sortList(M);this.grid.event.trigger("onCollapserTreeChange")}else{this.a.reattach(M);this.grid.event.trigger("onCollapserTreeChange");this.b(M,N)
}};a.prototype.b=function(F,I){F.length=0;this.a.root.traverseChildren({fn:function(J){if(this._shown){F.push(this.data)}else{I.push(this.data)}}})};a.prototype.toggle=function(F){this.toggleCollapse(this.a.getNode(this.grid.dataMgr.getById(F)))};a.prototype.bO=function(I,F){if(this.c.containsEvent(I)){return false
}};a.prototype.bi=function(I,F){this.toggleCollapse(this.a.getNode(F.getDatarow()))};a.prototype.bA=function(J,I,F){J.preventDefault();if(Util.isNotNullAnd(I,F)){var L=this.a.getNode(F.getDatarow())._collapsed;for(var K in I){if(K==="length"){continue}if(L){this.expand(this.a.getNode(this.grid.dataMgr.datalist[K]))
}else{this.collapse(this.a.getNode(this.grid.dataMgr.datalist[K]))}}this.g();this.grid.selMgr.selectCell(F)}};a.prototype.d=function(){this.a.Y();if(this.Z.p){for(var F in this.a.map){this.a.map[F]._collapsed=true;this.a.map[F]._shown=false}var I=this.a.root.children;
for(var F=0;F<I.length;F++){I[F]._shown=true}this.a.root._collapsed=true}else{for(var F in this.a.map){this.a.map[F]._collapsed=false;this.a.map[F]._shown=true}this.a.root._collapsed=false}this.grid.event.trigger("onCollapserTreeChange")};a.prototype.aG=function(F){F.push('<div id="'+this.mid+'h" onmousedown="JGM.m.Collapser.'+this.mid+'.toggleMaster();" class="'+this.Z.j+" "+this.Z.n);
if(this.a.root._collapsed){F.push(" "+this.Z.k)}else{F.push(" "+this.Z.l)}F.push('"></div>')};a.prototype.aH=function(K,N,L,J,M,F){var I=this.a.getNode(L);if(Util.isNull(I)){return null}M.push('<div class="'+this.Z.m+'" style="width:'+(this.Z.o*I.getLevel())+'px;"></div><div id="'+this.mid+L[F]+'" ');
if(!I.isLeaf()){M.push('onmousedown="JGM.m.Collapser.'+this.mid+".toggle('"+L[F]+'\');" class="'+this.Z.j);if(I._collapsed){M.push(" "+this.Z.k)}else{M.push(" "+this.Z.l)}}else{M.push('class="'+this.Z.j)}M.push('"></div>')};a.prototype.collapse=function(J,F){if(J._collapsed===true||J.isLeaf()){return
}J._collapsed=true;J.traverseChildren({fn:function(K){this._shown=false;if(this._collapsed){K.propagate=false}}});var I=this.i(J.data);if(I.length>0){this.e(I,true)}if(!F&&J.parent===this.a.root&&this.a.root._collapsed===false){this.e(this.c,this.a.root._collapsed=true)
}};a.prototype.expand=function(K,I){if(K._collapsed===false||K.isLeaf()){return}K._collapsed=false;K.traverseChildren({fn:function(M){this._shown=true;if(this._collapsed){M.propagate=false}}});var J=this.i(K.data);if(J.length>0){this.e(J,false)}if(!I&&K.parent===this.a.root){var L=this.a.root.children;
for(var F=0;F<L.length;F++){if(L[F]._collapsed){return}}this.e(this.c,this.a.root._collapsed=false)}};a.prototype.e=function(F,I){if(Util.isNull(F)){return}if(I){F.addClass(this.Z.k).removeClass(this.Z.l)}else{F.addClass(this.Z.l).removeClass(this.Z.k)}};a.prototype.toggleMaster=function(){var I=this.a.root.children;
if(this.a.root._collapsed){for(var F=0;F<I.length;F++){this.expand(I[F],true)}this.e(this.c,this.a.root._collapsed=false)}else{for(var F=0;F<I.length;F++){this.collapse(I[F],true)}this.e(this.c,this.a.root._collapsed=true)}this.g()};a.prototype.toggleCollapse=function(F){if(F._collapsed){this.expand(F)
}else{this.collapse(F)}this.g()};a.prototype.f=function(M,F){var I=this.a.getNode(M);var Q=this.checkMgr;if(F){var J=Number.MAX_VALUE;var N=-1;var P;var L=[];var O;var K=this.grid.dataMgr;I.traverseChildren({fn:function(R){if(Q.isChecked(this.data)){R.propagate=false
}else{Q.f(this.data);P=K.getIdx(this.data);if(P>N){N=P}if(P<J){J=P}if(Util.isNotNull(O=Q.k(this.data))){L.push(O)}}}});I.traverseParent({up:true,fn:function(R){if(Util.isNull(this.data)||Q.isChecked(this.data)){R.stop=true}else{Q.f(this.data);P=K.getIdx(this.data);
if(P>N){N=P}if(P<J){J=P}if(Util.isNotNull(O=Q.k(this.data))){L.push(O)}}}});JGM.CheckManager.a($(L));Q.e();if(N>=0){this.grid.view.Ac(J,N)}}else{var J=Number.MAX_VALUE;var N=-1;var P;var L=[];var O;var K=this.grid.dataMgr;I.traverseChildren({fn:function(R){if(!Q.isChecked(this.data)){R.propagate=false
}else{Q.g(this.data);P=K.getIdx(this.data);if(P>N){N=P}if(P<J){J=P}if(Util.isNotNull(O=Q.k(this.data))){L.push(O)}}}});I.traverseParent({up:true,fn:function(R){if(Util.isNull(this.data)||!Q.isChecked(this.data)){R.stop=true}else{for(var S=0;S<this.children.length;
S++){if(Q.isChecked(this.children[S].data)){R.stop=true;return}}Q.g(this.data);P=K.getIdx(this.data);if(P>N){N=P}if(P<J){J=P}if(Util.isNotNull(O=Q.k(this.data))){L.push(O)}}}});JGM.CheckManager.b($(L));if(N>=0){this.grid.view.Ac(J,N)}}};a.prototype.g=function(){this.b(this.grid.dataMgr.datalist,this.grid.dataMgr.failed);
this.grid.dataMgr.k()};a.prototype.i=function(F){return $(document.getElementById(this.mid+F[this.grid.dataMgr.idKey]))};a.prototype.h=function(){this.c=$(document.getElementById(this.mid+"h"))};JGM.b("Collapser",a);function w(I){this.mid=I.mid;this.grid=I.grid;
this.grid.colGroup=this;var F={a:undefined,b:[],c:[],Collapser:{indentSize:0}};this.Z=JGM.e(F,I.options,{key:"a",padColKeys:"b",sumColKeys:"c"});this.Z.Collapser.key=this.Z.a;this.collapser;this.a={};this.Y()}w.X=function(F){return new w(F)};w.prototype.Y=function(){var F={onBeforeSetDatalist:this.f,"onAfterSetDatalist onAddDatalist":this.b,onAddDatarow:this.ac,onUpdateDatarow:this.ae,onUpdateDatalist:this.ah,onRemoveDatarow:this.af,onRemoveDatalist:this.ag,onDestroy:this.aA};
if(this.Z.c.length!==0){F.onCollapserTreeChange=this.g}this.grid.event.bind(F,this);this.collapser=JGM.create("Collapser",{grid:this.grid,options:this.Z.Collapser});delete this.Z.Collapser;this.b(this.grid.dataMgr.all);this.collapser.Y()};w.prototype.aA=function(){delete this.grid.colGroup;
delete this.grid;delete this.Z;delete this.collapser;for(var F in this.a){delete this.a[F]}delete this.a;JGM.f("ColGroup",this.mid);delete this.mid};w.prototype.b=function(I){var F=I.length;var Q=this.Z.a;var M=this.grid.dataMgr.n.d;var N=this.grid.dataMgr.idKey;
var L=this.collapser.a.Z.nodeKey;var O=this.collapser.a.Z.parentKey;var J=this.Z.b;var P=[];for(var K=0;K<F;K++){this.c(I[K],Q,N,M,L,O,J,P)}if(P.length!==0){this.grid.dataMgr.all.pushList(P);this.grid.dataMgr.c(P,true,true);if(Util.isNotNull(this.collapser)){this.collapser.ad(P)
}}return P};w.prototype.c=function(I,Q,L,K,J,O,F,P){var M=I[Q];var N;if(!(M in this.a)){N=this.d(I,Q,L,M,K,J,F);P.push(N);this.a[M]=N}else{N=this.a[M]}I[J]=I[L];I[O]=this.mid+M};w.prototype.d=function(J,P,M,N,L,K,F){var O={};O[K]=this.mid+N;O[P]=N;O[L]=this.mid;
O[M]=P+" = "+N;for(var I=0;I<F.length;I++){O[F[I]]=J[F[I]]}return O};w.prototype.e=function(F){return F[this.grid.dataMgr.n.d]===this.mid};w.prototype.f=function(F){this.a={}};w.prototype.ac=function(I){var J=[];this.c(I,this.Z.a,this.grid.dataMgr.idKey,this.grid.dataMgr.n.d,this.collapser.a.Z.nodeKey,this.collapser.a.Z.parentKey,this.Z.b,J);
if(J.length!==0){var F=J[0];this.grid.dataMgr.all.push(F);this.grid.dataMgr.d(F,true,true);this.collapser.ac(F)}};w.prototype.ae=function(L,N,K){for(var I in N){if(I===this.Z.a){if(!(N[I] in this.a)){this.ac(L)}var M={};M[this.collapser.a.Z.parentKey]=this.mid+N[I];
var J={};J[this.collapser.a.Z.parentKey]=this.mid+K[I];this.collapser.ae(L,M,J);var F=this.collapser.a.getNode(this.a[K[I]]);if(F.children.length===0){this.grid.dataMgr.all.remove(F.data);delete this.a[K[I]];this.collapser.A(F.data)}return}}};w.prototype.ah=function(I,U){var P=this.collapser;
var W=P.a;var N;var O;var V=this.Z.a;var S=W.Z.parentKey;var L=[];var F;var T=[];for(var J=0;J<U.length;J++){N=I[J];O=U[J];for(var K in O){if(K===V){F={};F[S]=O[K];T.push(F);L.push(N);break}}}if(L.length!==0){this.b(L);P.ah(L,T);var R;var Q=this.grid.dataMgr.all;
var M=[];for(var K=0;K<T.length;K++){if(!(T[K][S] in this.a)){continue}R=W.getNode(this.a[T[K][S]]);if(R.children.length===0){M.push(R.data);delete this.a[T[K][S]];P.A(R.data)}}if(M.length!==0){Q.removeList(M)}}};w.prototype.af=function(I){if(this.e(I)){delete this.a[I[this.Z.a]]
}else{var F=this.collapser.a.getNode(I).parent;if(F.children.length===1){this.grid.dataMgr.remove(F.data)}}};w.prototype.ag=function(I){for(var F=0;F<I.length;F++){this.af(I[F])}};w.prototype.g=function(){var K={};var L=this.Z.c;for(var J=0;J<L.length;J++){K[L[J]]=0
}var F=this.grid.dataMgr.n.d;var I=this.mid;this.collapser.a.root.traverseChildren({post:true,fn:function(N,M){if(this.data[F]===I){for(var O=0;O<L.length;O++){this.data[L[O]]=K[L[O]];K[L[O]]=0}}else{for(var O=0;O<L.length;O++){K[L[O]]+=this.data[L[O]]}}}})
};JGM.b("ColGroup",w);function l(I){this.mid=I.mid;this.b=I.container;this.a;this.grid=I.grid;this.grid.creator=this;var F={a:"#dfdfdf",b:0,c:"solid #D6D6D6",d:"solid #A7A7A7",e:1,f:18,g:8,h:2,i:"12px Arial,Helvetica,sans-serif",j:28,k:3,l:"creator-icon",m:this.grid.Z.g+"data-creator-icon.png",n:13,o:13,p:"data-creator",q:"data-creator-name",r:3};
this.Z=JGM.e(F,I.options,{background:"a",borderThickness:"b",border:"c",inputBorder:"d",inputBorderThickness:"e",inputHeight:"f",inputMargin:"g",nameMargin:"h",font:"i",height:"j",padding:"k",classCreatorIcon:"l",creatorIconUrl:"m",creatorIconWidth:"n",creatorIconHeight:"o",classCreator:"p",classColName:"q",inputBorderRadius:"r"});
this.c={};this.f;this.Y()}l.X=function(F){return new l(F)};l.prototype.Y=function(){this.a=$('<div class="'+this.Z.p+'">').appendTo(this.b);var F={onRenderModules:this.aE,onCreateCss:this.V,onDestroy:this.aA};this.grid.event.bind(F,this)};l.prototype.V=function(){var F="#"+this.grid.mid+" .";
var K=this.Z;var I=K.b+"px "+K.c;var J=[];J.push(F+K.p+"{"+JGM.g.a+"float:left;width:100%;padding-left:8px;background:"+K.a+";border-top:"+I+";font:"+K.i+"}");J.push(F+K.p+" button{float:left;margin:"+K.k+"px "+K.k+"px 0 0;height:"+(K.j-2*K.k)+"px}");J.push(F+K.p+" input{float:left;padding:0;margin-top:"+((K.j-K.f-2*K.e)/2)+"px;height:"+K.f+"px;border:"+K.e+"px "+K.d+";border-radius:"+K.r+"px;-moz-border-radius:"+K.r+"px}");
J.push(F+K.classCol+"{float:left;overflow:hidden;white-space:nowrap;line-height:"+K.j+"px;margin-right:"+K.g+"px}");J.push(F+K.q+"{float:left;margin-right:"+K.h+"px}");J.push(F+K.l+"{background:url("+K.m+") no-repeat center;width:"+K.n+"px;height:"+K.o+"px}");
this.f=Util.createStyle(J.join(""))};l.prototype.aE=function(){var K=[];var F=this.grid.colDefMgr.getAll();for(var J=0;J<F.length;J++){if(F[J].inputOnCreate===true){K.push('<div key="'+F[J].key+'" class="'+this.Z.classCol+'"><div class="'+this.Z.q+'">'+F[J].name+'</div><input type="text" value="'+Util.ifNull(F[J].defaultValue,"")+'" style="width:'+F[J].width+'px"/></div>')
}}this.a[0].innerHTML=K.join("")+'<button type="button" onclick="JGM.m.DataCreator.'+this.mid+'.d()"></button><button type="button" onclick="JGM.m.DataCreator.'+this.mid+'.e()"></button>';var I=this;for(var J=0;J<F.length;J++){if(F[J].inputOnCreate===true){this.c[F[J].key]=this.a.find('div[key="'+F[J].key+'"] input').keyup(function(M){if(M.which===Util.keyMapKeydown.enter){I.d()
}})}}var L=this.a;this.grid.menubar.addIcon(this.Z.l,"  .",this.Z.n,this.Z.o,function(){L.toggle("fast")});L.hide()};l.prototype.d=function(){var N=true;for(var K in this.c){var M=this.grid.colDefMgr.getByKey(K);var I=this.c[K];if(Util.isNotNull(M.editor)&&!M.editor.valid($.trim(I[0].value))){N=false;
I.addClass("error");window.setTimeout(function(){I.removeClass("error")},2000)}}if(!N){return}var L={};var F=this.grid.colDefMgr.getAll();for(var J=0;J<F.length;J++){var K=F[J].key;if(K in this.c){L[K]=this.c[K][0].value}else{if(F[J].defaultValue!==undefined){L[K]=F[J].defaultValue
}}}this.grid.event.trigger("onAfterDataCreate",[L])};l.prototype.e=function(){for(var F in this.c){var I=this.grid.colDefMgr.getByKey(F);if(I.defaultValue!==undefined){this.c[F][0].value=I.defaultValue}}};l.prototype.aA=function(){delete this.grid.creator;delete this.grid;
for(var F in this.c){this.c[F].remove();delete this.c[F]}delete this.c;this.a.remove();delete this.a;delete this.Z;Util.removeStyle(this.f);delete this.f;JGM.f("DataCreator",this.mid);delete this.mid};JGM.b("DataCreator",l);function q(I){this.mid=I.mid;this.grid=I.grid;
this.grid.dataMgr=this;this.all=Util.ifNull(I.datalist,[]);this.datalist=[];this.failed=[];var F={a:undefined,c:[]};this.Z=JGM.e(F,I.options,{idKey:"a",idColKeys:"c"});this.n={a:0,b:1,c:2,d:"@NREAL",e:0,f:1,g:2,h:3,i:4,j:5};if(Util.isNotNull(this.Z.a)){this.m=this.n.b;
this.idKey=this.Z.a}else{if(this.Z.c.length!==0){this.m=this.n.c;this.idKey="@UID"}else{this.m=this.n.a;this.l=0;this.idKey="@UID"}}this.b={};this.a={};this.h;this.r=[];this.e=[];this.p=[];this.Y()}q.X=function(F){return new q(F)};q.prototype.Y=function(){this.c(this.all,true);
this.grid.event.bind({onDestroy:this.aA,keydownCanvas:this.ba},this);this.refresh()};q.prototype.aA=function(){delete this.grid.dataMgr;delete this.grid;this.dropNonReal();delete this.all;this.datalist.length=0;delete this.datalist;this.failed.length=0;delete this.failed;
delete this.Z;for(var F in this.n){delete this.n[F]}delete this.n;delete this.m;delete this.l;delete this.idKey;for(var F in this.b){delete this.b[F]}delete this.b;for(var F in this.a){delete this.a[F]}delete this.a;delete this.h;this.e.length=0;delete this.e;
this.p.length=0;delete this.p;this.r.length=0;delete this.r;JGM.f("DataManager",this.mid);delete this.mid};q.prototype.c=function(K,I,M){if(K.length===0){return}if(this.m===this.n.a){if(I===true){var Q=this.idKey;var J=K.length;var R=this.a;var N;for(var O=0;
O<J;O++){N=K[O];if(!(Q in N)){N[Q]=this.l++}R[N[Q]]=N}}}else{if(this.m===this.n.b){if(I===true){var Q=this.idKey;var J=K.length;var R=this.a;for(var O=0;O<J;O++){R[K[O][Q]]=K[O]}}}else{var Q=this.idKey;var J=K.length;var R=this.a;var P=this.Z.c;var F=P.length;
var N,L;if(M===true){if(I===true){for(var O=0;O<J;O++){N=K[O];if(Q in N){delete R[N[Q]]}N[Q]="";for(L=0;L<F;L++){N[Q]+="&"+N[P[L]]}R[N[Q]]=N}}else{for(var O=0;O<J;O++){N=K[O];N[Q]="";for(L=0;L<F;L++){N[Q]+="&"+N[P[L]]}}}}else{if(I===true){for(var O=0;O<J;O++){N=K[O];
if(!(Q in N)){N[Q]="";for(L=0;L<F;L++){N[Q]+="&"+N[P[L]]}}R[N[Q]]=N}}else{for(var O=0;O<J;O++){N=K[O];if(!(Q in N)){N[Q]="";for(L=0;L<F;L++){N[Q]+="&"+N[P[L]]}}}}}}}};q.prototype.d=function(L,M,N){if(this.m===this.n.a){if(M===true){var F=this.idKey;if(!(F in L)){L[F]=this.l++
}this.a[L[F]]=L}}else{if(this.m===this.n.b){if(M===true){this.a[L[this.idKey]]=L}}else{var F=this.idKey;var J=this.Z.c;var K=J.length;var I;if(N===true){if(M===true){if(F in L){delete this.a[L[F]]}L[F]="";for(I=0;I<K;I++){L[F]+="&"+L[J[I]]}this.a[L[F]]=L}else{L[F]="";
for(I=0;I<K;I++){L[F]+="&"+L[J[I]]}}}else{if(M===true){if(!(F in L)){L[F]="";for(I=0;I<K;I++){L[F]+="&"+L[J[I]]}}this.a[L[F]]=L}else{if(!(F in L)){L[F]="";for(I=0;I<K;I++){L[F]+="&"+L[J[I]]}}}}}}};q.prototype.s=function(I){var J="";for(var F=0;F<this.Z.c.length;
F++){J+="&"+I[this.Z.c[F]]}return J};q.prototype.getIdx=function(F){if(F[this.idKey] in this.b){return this.b[F[this.idKey]]}return -1};q.prototype.getById=function(F){if(F in this.a){return this.a[F]}};q.prototype.getIdxById=function(F){if(F in this.b){return this.b[F]
}return -1};q.prototype.f=function(M){if(Util.isNull(M)){M=0}var K=this.datalist;var L=K.length;var I=this.idKey;var F=this.b;for(var J=M;J<L;J++){F[K[J][I]]=J}};q.prototype.g=function(F){this.b={};this.f()};q.prototype.has=function(F){return F[this.idKey] in this.b
};q.prototype.set=function(F){if(this.all===F){return}if(Util.isNull(F)){F=[]}this.grid.event.trigger("onBeforeSetDatalist",[this.all]);this.dropNonReal();this.e.length=0;this.p.length=0;this.a={};this.c(F,true);this.all=F;this.grid.event.trigger("onAfterSetDatalist",[F]);
this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.add=function(J,F,I){if(Util.isNull(J)||Util.isNotNull(this.map(J))){return}this.d(J,true);this.all.push(J);if(!F){this.e.push({a:this.n.e,b:J});this.p.length=0}this.grid.event.trigger("onAddDatarow",[J,I]);
this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.addList=function(J,F,I){if(Util.isNull(J)||J.length===0){return}var K=this.mapList(J);if(K.unmapped.length===0){return}this.c(J,true);this.all.pushList(K.unmapped);if(!F){this.e.push({a:this.n.f,b:K.unmapped});
this.p.length=0}this.grid.event.trigger("onAddDatalist",[K.unmapped,I]);this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.update=function(N,O,F,I){if(Util.isNullOr(N,O)){return}this.grid.event.trigger("onBeforeUpdateDatarow",[N,O]);var M={};
for(var J in O){if(N[J]===O[J]){continue}M[J]=N[J];N[J]=O[J]}if(Util.isEmpty(M)){return}var L;if(this.m===this.n.a){if(this.idKey in M){this.o(N,M);throw"trying to manually change auto generated id!"}}else{if(this.m===this.n.b){if(this.idKey in M){if(N[this.idKey] in this.a){this.o(N,M);
throw"data with same id already exists!"}L=M[this.idKey]}}else{if(this.m===this.n.c){if(this.idKey in M){this.o(N,M);throw"trying to manually change auto generated id!"}var K=this.Z.c;for(var J=0;J<K.length;J++){if(K[J] in M){L=N[this.idKey];if(this.s(N) in this.a){this.o(N,M);
throw"data with same id already exists!"}break}}}}}if(Util.isNotNull(L)){delete this.a[L];this.d(N,true,true);this.grid.event.trigger("onIdChange",[N,L,N[this.idKey]])}if(!F){this.e.push({a:this.n.g,b:N,c:M,d:O});this.p.length=0}this.grid.event.trigger("onUpdateDatarow",[N,O,M,I]);
this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.updateList=function(Y,aa,F){if(Util.isNull(Y)||Y.length===0){return}this.grid.event.trigger("onBeforeUpdateDatalist",[Y]);var I=[];var S=[];var ab=[];var T,P,K;var N=Y.length;for(var X=0;X<N;
X++){T={};K=Y[X].datarow;P=Y[X].change;for(var ad in P){if(K[ad]===P[ad]){continue}T[ad]=K[ad];K[ad]=P[ad]}if(Util.isNotEmpty(T)){S.push(T);ab.push(P);I.push(K)}}if(I.length===0){return}var J=[];var Q=[];var ac=this.idKey;var V=S.length;if(this.m===this.n.a){for(var X=0;
X<V;X++){T=S[X];if(ac in T){this.p(I,S);throw"trying to manually change auto generated id!"}}}else{if(this.m===this.n.b){var R={};for(var X=0;X<V;X++){T=S[X];K=I[X];if(ac in T){var U=K[ac];if(U in R||U in this.a){this.p(I,S);throw"data with same id already exists!"
}R[U]=true;J.push(K);Q.push(T[ac])}}}else{if(this.m===this.n.c){var M=this.Z.c;var L=M.length;var O={};for(var X=0;X<V;X++){T=S[X];K=I[X];if(ac in T){this.p(I,S);throw"trying to manually change auto generated id!"}for(var W=0;W<L;W++){if(M[W] in T){var Z=this.s(K);
if(Z in O||Z in this.a){this.p(I,S);throw"data with same id already exists!"}O[Z]=true;J.push(K);Q.push(K[ac]);break}}}}}}if(J.length!==0){for(var X=0;X<Q.length;X++){delete this.a[Q[X]]}this.c(J,true,true);this.grid.event.trigger("onIdListChange",[J,Q,ac])
}if(!aa){this.e.push({a:this.n.h,b:I,c:S,d:ab});this.p.length=0}this.grid.event.trigger("onUpdateDatalist",[I,S,F]);this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.o=function(J,I){for(var F in I){J[F]=I[F]}};q.prototype.p=function(L,M){var K;
for(var I=0;I<L.length;I++){K=L[I];var J=M[I];for(var F in J){K[F]=J[F]}}};q.prototype.remove=function(K,I,J){if(Util.isNull(K)){return}var F=this.map(K);if(Util.isNull(F)){return}delete this.a[F.id];delete this.b[F.id];this.all.remove(F.data);if(!I){this.e.push({a:this.n.i,b:F.data});
this.p.length=0}this.grid.event.trigger("onRemoveDatarow",[F.data,J]);this.grid.event.trigger("onDataChange");this.refresh()};q.prototype.removeList=function(L,I,J){if(Util.isNull(L)||L.length===0){return}var M=this.mapList(L).mapped;if(M.length===0){return
}L=[];var F;for(var K=0;K<M.length;K++){F=M[K];delete this.a[F.id];delete this.b[F.id];L.push(F.data)}this.all.removeList(L);if(!I){this.e.push({a:this.n.j,b:L});this.p.length=0}this.grid.event.trigger("onRemoveDatalist",[L,J]);this.grid.event.trigger("onDataChange");
this.refresh()};q.prototype.ba=function(F){if(F.ctrlKey){switch(F.which){case"Z".charCodeAt(0):this.undo();break;case"Y".charCodeAt(0):this.redo();break}}};q.prototype.undo=function(){if(this.e.length===0){return}var L=this.e.pop();this.p.push(L);var F=L.b;
var J=L.c;switch(L.a){case this.n.e:this.remove(F,true);break;case this.n.f:this.removeList(F,true);break;case this.n.g:this.update(F,J,true);break;case this.n.h:var K=[];for(var I=0;I<F.length;I++){K.push({datarow:F[I],change:J[I]})}this.updateList(K,true);
break;case this.n.i:this.add(F,true);break;case this.n.j:this.addList(F,true);break}};q.prototype.redo=function(){if(this.p.length===0){return}var L=this.p.pop();this.e.push(L);var I=L.b;var F=L.d;switch(L.a){case this.n.e:this.add(I,true);break;case this.n.f:this.addList(I,true);
break;case this.n.g:this.update(I,F,true);break;case this.n.h:var K=[];for(var J=0;J<I.length;J++){K.push({datarow:I[J],change:F[J]})}this.updateList(K,true);break;case this.n.i:this.remove(I,true);break;case this.n.j:this.removeList(I,true);break}};q.prototype.mapList=function(L){var I=[];
var J=[];var F=this.idKey;this.c(L);for(var K=0;K<L.length;K++){var M=L[K][F];if(M in this.a){I.push({id:M,data:this.a[M]})}else{J.push(L[K])}}return{mapped:I,unmapped:J}};q.prototype.map=function(F){this.d(F);var I=F[this.idKey];if(I in this.a){return{id:I,data:this.a[I]}
}};q.prototype.equals=function(I,F){if(Util.isNullOr(I,F)){return false}if(I===F){return true}this.d(I);if(Util.isNull(I[this.idKey])){return false}this.d(F);if(Util.isNull(F[this.idKey])){return false}return(I[this.idKey]===F[this.idKey]?true:false)};q.prototype.getReal=function(){var F=this.n.d;
return this.all.filter(function(I){return !(F in I)})};q.prototype.filterReal=function(I){var F=this.n.d;return I.filter(function(J){return !(F in J)})};q.prototype.isReal=function(F){return Util.isNotNull(F)&&!(this.n.d in F)};q.prototype.dropNonReal=function(J){if(Util.isNull(J)){J=this.all
}var F=this.n.d;for(var I=0;I<J.length;I++){if(F in J[I]){delete J[I][F];J.removeAt(I--)}}};q.prototype.setSorter=function(F){this.grid.event.trigger("onChangeSorter",[this.h,F]);this.h=F};q.prototype.i=function(I){if(Util.isNull(I)){I=this.h}else{this.setSorter(I)
}if(Util.isNull(I)){return}var F=this.all;this.grid.event.trigger("onBeforeSort",[F]);if(Util.isNotNull(I.comparator)){F.sort(I.comparator);if(I.desc){F.reverse()}}else{if(Util.isNotNull(I.lexi)){this.constructor.a(F,I.lexi,I.desc)}}this.grid.event.trigger("onAfterSort",[F])
};q.prototype.addFilter=function(F){this.r.push(F);this.refresh()};q.prototype.removeFilter=function(I){var F=this.r.length;this.r.remove(I);if(F!==this.r.length){this.refresh()}};q.prototype.j=function(){var L=this.datalist;var F=this.failed;this.grid.event.trigger("onBeforeFilter",[L,F]);
L.length=0;L.pushList(this.all);F.length=0;for(var J=0;J<this.r.length;J++){var K=this.r[J];for(var I=L.length-1;I>=0;I--){if(!K(L[I])){F.push(L[I]);L.removeAt(I)}}}this.grid.event.trigger("onFilter",[L,F]);this.grid.event.trigger("onAfterFilter",[L,F])};q.prototype.k=function(){this.g();
this.grid.event.trigger("onAfterRefresh")};q.prototype.refresh=function(F){this.grid.event.trigger("onBeforeRefresh");this.i(F);this.j();this.k()};q.a=function(J,I,K){var F=Object.prototype.toString;Object.prototype.toString=Util.isFunction(I)?I:function(){return this[I]
};J.sort();Object.prototype.toString=F;if(K){J.reverse()}};JGM.b("DataManager",q);function t(I){this.mid=I.mid;this.grid=I.grid;this.grid.editMgr=this;var F={a:"jgrid-edit",b:"jgrid-editable",c:"jgrid-notEditable",d:false,e:true,f:"#FFF",g:"#F6F6F6",h:false};
this.Z=JGM.e(F,I.options,{classEdit:"a",classCellEditable:"b",classCellNotEditable:"c",editableBgEnabled:"d",notEditableBgEnabled:"e",editableBg:"f",notEditableBg:"g",deleteEnabled:"h"});this.editor;this.c=Util.which(["number","alphabet","del","backspace"]);
this.j;this.Y()}t.X=function(F){return new t(F)};t.prototype.Y=function(){var F={onGetColCellClass:this.f,keydownCanvas:this.ba,onDestroy:this.aA,dblclickCanvas:this.bi,onBeforeCreateSelCss:this.d,"onBeforeNavigate onBeforeRefresh onBeforeSelect":this.commit};
if(this.Z.h){F["keydownSel_"+Util.keyMapKeydown.del]=this.i}this.grid.event.bind(F,this)};t.prototype.aA=function(){delete this.grid.editMgr;delete this.grid;this.g();for(var F in this.c){delete this.c[F]}delete this.c;delete this.Z;Util.removeStyle(this.j);
delete this.j;JGM.f("EditManager",this.mid);delete this.mid};t.prototype.d=function(){var F="#"+this.grid.mid+" .";var L=this.Z;var K=[];K.push(F+L.a+"{background:#EDEFF4}");var I=this.grid.colDefMgr.get();for(var J=0;J<I.length;J++){K.push(F+"k_"+I[J].key+"."+L.a+" input{border:1px solid #BDC7D8;width:"+(I[J].width-2)+"px;height:17px;padding:0}")
}if(L.d){K.push(F+L.b+"{background:"+L.f+"}")}if(L.e){K.push(F+L.c+"{background:"+L.g+"}")}this.j=Util.createStyle(K.join(""))};t.prototype.bi=function(I,F){if(!this.active()){this.begin(F)}};t.prototype.ba=function(F){if(this.active()){if(F.which===Util.keyMapKeydown.esc){this.cancel()
}}else{if(F.ctrlKey){switch(F.which){case"C".charCodeAt(0):this.copy(this.grid.selMgr.getCell());break;case"X".charCodeAt(0):this.cut(this.grid.selMgr.getCell());break;case"V".charCodeAt(0):this.paste(this.grid.selMgr.getCell());break}}else{if(!F.altKey){if(F.which===Util.keyMapKeydown.del&&this.Z.h){this.h(this.grid.selMgr.getCell())
}else{if(this.c[F.which]){this.begin(this.grid.selMgr.getCell())}else{if(F.which===Util.keyMapKeydown.f2){F.preventDefault();this.begin(this.grid.selMgr.getCell())}}}}}}};t.prototype.active=function(){return Util.isNotNull(this.editor)};t.prototype.e=function(F){return this.active()&&this.editor.cell.equals(F)
};t.prototype.f=function(F){if(Util.isNotNull(F.editor)){return this.Z.b}else{return this.Z.c}};JGM.Cell.prototype.isEdited=function(){return this.grid.editMgr.e(this)};JGM.Cell.prototype.setValue=function(J){var I=this.getDatarow();var K={};var F=this.getKey();
K[F]=J;this.grid.dataMgr.update(I,K)};t.prototype.isEditable=function(F){return Util.isNotNull(F)&&Util.isNotNull(F.getColDef().editor)&&this.grid.dataMgr.isReal(F.getDatarow())};t.prototype.begin=function(F){if(!this.isEditable(F)){return}this.editor=F.getColDef().editor;
this.editor.cell=F;this.editor.grid=this.grid;var I=F.getNode();this.editor.before=I.innerHTML;I.innerHTML=this.editor.edit(F.getValue());F.get$().addClass(this.Z.a);this.editor.focus()};t.prototype.cancel=function(){if(!this.active()){return}var F=this.editor.cell;
F.getNode().innerHTML=this.editor.before;this.g();F.get$().removeClass(this.Z.a);this.grid.view.At()};t.prototype.g=function(){if(Util.isNotNull(this.editor)){delete this.editor.grid;delete this.editor.cell;delete this.editor.before;delete this.editor}};t.prototype.commit=function(){if(!this.active()){return
}var F=this.editor.cell;var J=this.editor.value(F.getNode());if(J==F.getValue()){this.cancel()}else{if(this.editor.valid(J)){this.grid.dataMgr.setSorter(undefined);try{F.setValue(J)}catch(K){this.cancel()}this.g();this.grid.view.At()}else{this.cancel()}}var I=F.get$();
if(Util.isNotNull(I)){I.removeClass(this.Z.a)}};t.prototype.h=function(F){if(this.active()||!this.isEditable(F)){return}var I=F.getColDef();if(F.getValue()===I.defaultValue||!I.editor.valid(I.defaultValue)){return}this.grid.dataMgr.setSorter(undefined);F.setValue(I.defaultValue)
};t.prototype.i=function(O,P,J,F){if(this.active()){return}var N=[];var S={};var K={};var L=[];col_loop:for(var I in F){if(I==="length"){continue}var R=undefined;var Q=undefined;var U=undefined;var T;var M=undefined;row_loop:for(var V in F[I]){if(V==="length"||V in K){continue
}T=F[I][V].cell;if(Util.isNull(R)){R=T.getColDef();Q=R.defaultValue;U=R.key;if(Util.isNull(R.editor)||!R.editor.valid(Q)){continue col_loop}}if(Util.isNotNull(S[V])){M=S[V].datarow}else{M=T.getDatarow()}if(!this.grid.dataMgr.isReal(M)){K[V]=true;continue}if(Q===M[U]){continue
}if(Util.isNull(S[V])){S[V]={datarow:M,change:{}};L.push(S[V])}S[V].change[U]=Q}}if(L.length!==0){this.grid.dataMgr.setSorter(undefined);this.grid.dataMgr.updateList(L)}};function x(F){for(var I in F){this[I]=F[I]}}x.X=function(F){return new x(F)};x.prototype.edit=function(F){return'<input type="text" value="'+Util.ifNull(F,"")+'"/>'
};x.prototype.focus=function(){this.cell.getNode().childNodes[0].focus()};x.prototype.valid=function(F){return true};x.prototype.value=function(F){return F.childNodes[0].value};x.prototype.path=function(){return"JGM.m.Editor."+this.mid};x.numberKeys=Util.which(["number","del","backspace"]);
x.isNumberKey=function(F){return this.numberKeys[F]?true:false};x.numberEdit=function(F){var I=F.getValue();return'<input type="text" onkeydown="if (!JGM.Editor.isNumberKey(event.which)) return false;" value="'+Util.ifNull(I,"")+'"/>'};x.floatKeys=Util.which(["number",".","del","backspace"]);
x.isFloatKey=function(F){return this.floatKeys[F]?true:false};x.floatEdit=function(F){var I=F.getValue();return'<input type="text" onkeydown="if (!JGM.Editor.isFloatKey(event.which)) return false;" value="'+Util.ifNull(I,"")+'"/>'};x.alphabetKeys=Util.which(["alphabet","del","backspace","space"]);
x.isAlphabet=function(F){return this.alphabetKeys[F]?true:false};x.alphabetEdit=function(F){var I=F.getValue();return'<input type="text" onkeydown="if (!JGM.Editor.isAlphabet(event.which)) return false;" value="'+Util.ifNull(I,"")+'"/>'};JGM.b("EditManager",t);
JGM.b("Editor",x);function E(F){this.mid=F.mid;F.grid.event=this;this.a={}}E.X=function(F){return new E(F)};E.prototype.destroy=function(){for(var F in this.a){this.a[F].length=0;delete this.a[F]}delete this.a;JGM.f("EventManager",this.mid);delete this.mid};
E.prototype.register=function(I,J,K){if(Util.isString(I)){this.b(I,J,K)}else{if(Util.isNotNull(I.e)){this.b(I.e,I.f,I.t)}else{for(var F=0;F<I.length;F++){if(Util.isNotNull(I[F])){this.b(I[F].e,I[F].f,I[F].t)}}}}};E.prototype.bind=function(F,I,K){if(Util.isString(F)){this.b(F,I,K)
}else{for(var J in F){this.b(J,F[J],I)}}};E.prototype.b=function(L,M,O){if(Util.isNull(O)){O=window}var F=$.trim(L).split(/\s+/);var N;if(Util.isString(M)){var K=$.trim(M).split(/\s+/)}for(var J=0;J<F.length;J++){N=F[J];if(Util.isFunction(M)){this.c(N,M,O)}else{if(Util.isString(M)){for(var I=0;
I<K.length;I++){this.c(N,O[K[I]],O)}}else{for(var I=0;I<M.length;I++){this.c(N,M[I],O)}}}}};E.prototype.c=function(J,F,I){if(!(J in this.a)){this.a[J]=[]}this.a[J].push({fn:F,target:I})};E.prototype.unregister=function(J,I){if(!(J in this.a)){return}var K=this.a[J];
if(Util.isNull(I)){K.length=0;delete this.a[J];return}for(var F=0;F<K.length;F++){if(K[F].fn===I){K.removeAt(F);if(K.length===0){delete this.a[J]}return}}};E.prototype.trigger=function(R,N,F){var O,P=[],L=$.trim(R).split(/\s+/),K=Util.isNull(N)||N.length===0,Q=Util.isFunction(F),J,I;
for(I=0;I<L.length;I++){e=L[I];if(!(e in this.a)){continue}O=this.a[e];if(O.length===0){continue}if(Q){var M;if(K){for(J=0;J<O.length;J++){M=O[J].fn.call(O[J].target);if(F(M)){P.push(M)}}}else{for(J=0;J<O.length;J++){M=O[J].fn.apply(O[J].target,N);if(F(M)){P.push(M)
}}}}else{if(K){for(J=0;J<O.length;J++){P.push(O[J].fn.call(O[J].target))}}else{for(J=0;J<O.length;J++){P.push(O[J].fn.apply(O[J].target,N))}}}}return P};E.prototype.sendToBack=function(M,L){var F=this.a[M];var K=undefined;var I=-1;for(var J=0;J<F.length;J++){if(F[J].fn===L){I=J;
K=F[J];break}}if(I>-1){F.removeAt(J);F.push(K)}};E.prototype.sendToFront=function(M,L){var F=this.a[M];var K=undefined;var I=-1;for(var J=0;J<F.length;J++){if(F[J].fn===L){I=J;K=F[J];break}}if(I>-1){F.removeAt(J);F.unshift(K)}};JGM.b("EventManager",E);function b(I){this.mid=I.mid;
this.b=I.container;this.a;this.grid=I.grid;this.grid.footer=this;var F={a:"footer-cell",b:"#F1F5FB",c:"0px solid #CCD9EA",d:"#000",e:"13px",f:"normal",g:25,h:30,i:" <span name='shownCount'></span>  /  <span name='totalCount'></span> ",j:"#5A6779",k:"12px",l:"normal",n:"#1E395B",o:"12px",p:"normal",q:"jgrid-footer",r:"footer-title",s:"footer-content",u:"",v:"",w:"",x:""};
this.Z=JGM.e(F,I.options,{classCell:"a",background:"b",border:"c",color:"d",fontSize:"e",fontWeight:"f",cellHeight:"g",cellPadding:"h",countTemplate:"i",titleColor:"j",titleFontSize:"k",titleFontWeight:"l",contentColor:"n",contentFontSize:"o",contentFontWeight:"p",classFooter:"q",classTitle:"r",classContent:"s",style:"u",cellStyle:"v",titleStyle:"w",contentStyle:"x"});
this.g={};this.i;this.Y()}b.X=function(F){return new b(F)};b.prototype.Y=function(){this.a=$('<div class="'+this.Z.q+'">').appendTo(this.b);this.getNextCell().html(this.Z.i);this.d();this.c();this.f();this.grid.event.bind({onCreateCss:this.V,onDestroy:this.aA,onDataChange:this.d,onDataChange:this.e,onAfterRefresh:this.c},this)
};b.prototype.aA=function(){delete this.grid.footer;delete this.grid;delete this.b;for(var F in this.g){this.g[F].remove();delete this.g[F]}delete this.g;this.a.remove();delete this.a;delete this.Z;Util.removeStyle(this.i);delete this.i;JGM.f("Footer",this.mid);
delete this.mid};b.prototype.V=function(){var J=this.Z;var F="#"+this.grid.mid+" ."+J.q;var I=[];I.push(F+"{float:left;cursor:default;width:100%;"+JGM.g.a+"background:"+J.b+";border-top:"+J.c+";border-collapse:collapse;color:"+J.d+";font-size:"+J.e+";font-weight:"+J.f+";padding-left:8px;"+J.u+"}");
I.push(F+" ."+J.a+"{float:left;overflow:hidden;white-space:nowrap;line-height:"+J.g+"px;padding-right:"+J.h+"px;"+J.v+"}");I.push(F+" ."+J.r+"{text-align:right;color:"+J.j+";font-size:"+J.k+";font-weight:"+J.l+";"+J.w+"}");I.push(F+" ."+J.s+"{color:"+J.n+";font-size:"+J.o+";font-weight:"+J.p+";"+J.x+"}");
this.i=Util.createStyle(I.join(""))};b.prototype.d=function(){this.a.find("[name=totalCount]")[0].innerHTML=this.grid.dataMgr.getReal().length};b.prototype.c=function(){this.a.find("[name=shownCount]")[0].innerHTML=this.grid.dataMgr.filterReal(this.grid.dataMgr.datalist).length
};b.prototype.f=function(){var N=this.grid.dataMgr.getReal();var F=this.grid.colDefMgr.get();for(var J=0;J<F.length;J++){var L=F[J];var M=L.sumRenderer;if(Util.isNotNull(M)){var I=L.key;var K=b.a(N,I);this.g[I]=this.getNextCell();if(Util.isFunction(M)){this.g[I][0].innerHTML=M(L.name,K)
}else{if(Util.isString(M)){if(M.toLowerCase()==="krw"||M==="\\"){this.g[I][0].innerHTML=this.h(L.name,Util.formatNumber(K))}else{if(M.toLowerCase()==="usd"||M==="$"){this.g[I][0].innerHTML=this.h(L.name,Util.formatNumber(K,2,"$ "))}}}else{this.g[I][0].innerHTML=this.h(L.name,K)
}}}}};b.prototype.e=function(){var K=this.grid.dataMgr.getReal();for(key in this.g){var I=this.grid.colDefMgr.getByKey(key);var J=I.sumRenderer;var F=b.a(K,key);if(Util.isFunction(J)){this.g[key][0].innerHTML=J(I.name,F)}else{if(Util.isString(J)){if(J.toLowerCase()==="krw"||J==="\\"){this.g[key].find("span."+this.Z.s)[0].innerHTML=Util.formatNumber(F)
}else{if(J.toLowerCase()==="usd"||J==="$"){this.g[key].find("span."+this.Z.s)[0].innerHTML=Util.formatNumber(F,2,"$ ")}}}else{this.g[key].find("span."+this.Z.s)[0].innerHTML=F}}}};b.prototype.getNextCell=function(){return $('<div class="'+this.Z.a+'"/>').appendTo(this.a)
};b.prototype.h=function(F,I){return'<span class="'+this.Z.r+'">'+F+' : </span><span class="'+this.Z.s+'">'+I+"</span>"};b.a=function(M,K){var L=0;var J;var F=M.length;for(var I=0;I<F;I++){if(typeof(J=M[I][K])==="string"){J=J.toFloat()}L+=isNaN(J)?0:J}return L
};JGM.b("Footer",b);function z(I){this.mid=I.mid;this.b=I.container;this.a;this.grid=I.grid;this.grid.menubar=this;var F={a:"url("+this.grid.Z.g+"menubar-bg.png) repeat-x scroll center",b:1,c:"solid #b6bac0",d:27,e:"menubar",f:"menu-icon",g:1,h:"solid transparent",i:"solid #d4d4d4",j:"solid #9a9a9a",k:2,l:"",m:"url("+this.grid.Z.g+"menu-icon-hover.png) repeat-x scroll center",n:"url("+this.grid.Z.g+"menu-icon-active.png) repeat-x scroll center",o:21,p:21,q:4,r:"solid #5f5f5f"};
this.Z=JGM.e(F,I.options,{background:"a",borderThickness:"b",border:"c",height:"d",classMenuBar:"e",classIcon:"f",iconBorderThickness:"g",iconBorder:"h",iconBorderHover:"i",iconBorderActive:"j",iconMargin:"k",iconBackground:"l",iconBackgroundHover:"m",iconBackgroundActive:"n",iconHeight:"o",iconWidth:"p",iconBorderRadius:"q",iconBorderFocus:"r"});
this.style;this.Y()}z.X=function(F){return new z(F)};z.prototype.Y=function(){this.a=$('<div class="'+this.Z.e+'"></div>').prependTo(this.b);this.grid.event.bind({onCreateCss:this.V,onDestroy:this.aA},this)};z.prototype.aA=function(){delete this.grid.menubar;
delete this.grid;this.a.remove();delete this.a;delete this.b;delete this.Z;Util.removeStyle(this.style);delete this.style;JGM.f("MenuBar",this.mid);delete this.mid};z.prototype.V=function(){var F="#"+this.grid.mid+" .";var K=this.Z;var I=K.b+"px "+K.c;var J=[];
J.push(F+K.e+"{"+JGM.g.a+"overflow:hidden;width:100%;background:"+K.a+";border-bottom:"+I+";height:"+K.d+"px}");J.push(F+K.f+"{float:left;height:"+K.o+"px;width:"+K.p+"px;border:"+K.g+"px "+K.h+";margin:"+K.k+"px 0 0 "+K.k+"px;background:"+K.l+";border-radius:"+K.q+"px;-moz-border-radius:"+K.q+"px}");
J.push(F+K.f+":hover,"+F+K.f+":focus{background:"+K.m+";border:"+K.g+"px "+K.i+"}");J.push(F+K.f+":active,"+F+K.f+".active{cursor:default;background:"+K.n+";border:"+K.g+"px "+K.j+"}");J.push(F+K.f+".active:focus{border:"+K.g+"px "+K.r+"}");this.style=Util.createStyle(J.join(""))
};z.prototype.addIcon=function(I,L,K,F,J){return $('<div class="'+this.Z.f+'" tabIndex="0" title="'+L+'"><div class="'+I+'" style="margin-top:'+((this.Z.o-F)/2)+"px;margin-left:"+((this.Z.p-K)/2)+'px"></div></div>').appendTo(this.a).click(function(M){J();$(this).toggleClass("active");
M.preventDefault()}).keydown(function(M){if(M.which===Util.keyMapKeydown.enter||M.which===Util.keyMapKeydown.space){J();$(this).toggleClass("active");M.preventDefault()}})};JGM.b("MenuBar",z);function v(I){this.mid=I.mid;this.b=I.container;this.a;this.c;this.d;
this.e;this.grid=I.grid;this.grid.search=this;var F={a:"#f0f0f0",b:1,c:"solid #d6d6d6",d:"1px solid #A7A7A7",e:0,f:"center",g:3,h:"99%",i:20,j:26,k:2,l:3,m:"#123272",n:"bold 12px Arial,Helvetica,sans-serif",o:5,p:"",q:"url("+this.grid.Z.g+"more-options-bg-hover.png) repeat-x scroll center",r:"url("+this.grid.Z.g+"more-options-bg-active.png) repeat-x scroll center",s:"url("+this.grid.Z.g+"more-options-bg-opened.png) repeat-x scroll center",t:1,u:"solid transparent",v:"solid #a4a4a4",w:"solid #c5c5c5",x:"solid #bfbfbf",y:9,z:2,A:this.grid.Z.g+"more-options.png",B:this.grid.Z.g+"more-options-close.png",C:2,D:"solid #93979D",E:1,F:"bold 13px Arial",G:"#282853",H:"url("+this.grid.Z.g+"tag-background.png) repeat-x scroll center",I:12,J:this.grid.Z.g+"tag-close.png",K:this.grid.Z.g+"tag-close-hover.png",L:"11px Arial",M:30,N:"search-mask",O:"search-bar",P:"more-option-name",Q:"more-options",R:"more-icon",S:"clear-tags",T:"search-tags",U:"search-tag",V:"search-tag-name",W:"search-tag-remove",X:"search-advanced",Y:"search-option-col",Z:"search-option",aa:"search-icon",ab:this.grid.Z.g+"search-icon.png",ac:15,ad:15};
this.Z=JGM.e(F,I.options,{background:"a",borderThickness:"b",border:"c",inputBorder:"d",inputPadding:"e",searchbarAlign:"f",searchbarMargin:"g",searchbarWidth:"h",searchbarHeight:"i",tagsHeight:"j",tagsPadding:"k",tagsBorderRadius:"l",advButtonColor:"m",advButtonFont:"n",advButtonPadding:"o",advButtonBg:"p",advButtonBgHover:"q",advButtonBgActive:"r",advButtonBgOpened:"s",advButtonBorderThickness:"t",advButtonBorder:"u",advButtonBorderHover:"v",advButtonBorderActive:"w",advButtonBorderOpened:"x",advButtonIconWidth:"y",advButtonIconMargin:"z",advButtonIconUrl:"A",advButtonIconCloseUrl:"B",tagPadding:"C",tagBorder:"D",tagBorderThickness:"E",tagFont:"F",tagColor:"G",tagBackground:"H",tagRemoveIconWidth:"I",tagRemoveIconUrl:"J",tagRemoveIconHoverUrl:"K",advFont:"L",advInputWidth:"M",classMask:"N",classSearchbar:"O",classAdvButtonName:"P",classAdvButton:"Q",classAdvButtonIcon:"R",classClearTags:"S",classTagbar:"T",classTag:"U",classTagName:"V",classRemoveTag:"W",classAdvanced:"X",classOptionCol:"Y",classOption:"Z",classSearchIcon:"aa",searchIconUrl:"ab",searchIconWidth:"ac",searchIconHeight:"ad"});
this.f={};this.g={};this.h={};this.i={};this.style;this.Y()}v.prototype.V=function(){var J="#"+this.grid.mid+" .";var I=this.Z;var L=I.b+"px "+I.c;var S=[];S.push(J+I.N+"{"+JGM.g.a+"overflow:hidden;width:100%;background:"+I.a+"}");S.push(J+I.N+" button{margin:0;padding:0 3px}");
S.push(J+I.N+" input{border:"+I.d+";padding:"+I.e+"}");var Q="border-radius:"+I.l+"px;-moz-border-radius:"+I.l+"px";S.push(J+I.O+"{text-align:"+I.f+";border-bottom:"+L+"}");S.push(J+I.O+" input{width:"+I.h+";margin:"+I.g+"px 0;height:"+I.i+"px;"+Q+"}");S.push(J+I.T+"{cursor:default;height:"+(I.j-I.k)+"px;padding:"+I.k+"px 0 0 "+I.k+"px;border-bottom:"+L+"}");
var R=I.t+"px "+I.u;var O=I.t+"px "+I.v;var M=I.t+"px "+I.w;var N=I.t+"px "+I.x;var F=I.j-2*I.k;var K=F-2*I.t;S.push(J+I.Q+"{float:left;margin-right:"+I.k+"px;background:"+I.p+";border:"+R+";padding:0 "+I.o+"px;"+Q+"}");S.push(J+I.Q+":hover{background:"+I.q+";border:"+O+"}");
S.push(J+I.Q+".opened{background:"+I.s+";border:"+N+"}");S.push(J+I.Q+":active{background:"+I.r+";border:"+M+"}");S.push(J+I.P+"{float:left;color:"+I.m+";font:"+I.n+";line-height:"+K+"px}");S.push(J+I.R+"{float:left;height:"+K+"px;margin-left:"+I.z+"px;background:url("+I.A+") no-repeat center;width:"+I.y+"px}");
S.push(J+I.Q+".opened ."+I.R+"{background:url("+I.B+") no-repeat center}");var P=F-2*I.E;S.push(J+I.U+"{float:left;border:"+I.E+"px "+I.D+";margin:0 "+I.k+"px "+I.k+"px 0;padding:0 "+I.C+"px;background:"+I.H+";"+Q+"}");S.push(J+I.V+"{float:left;color:"+I.G+";font:"+I.F+";line-height:"+P+"px}");
S.push(J+I.W+"{float:left;margin-left:"+I.C+"px;background:url("+I.J+") no-repeat center;width:"+I.I+"px;height:"+P+"px}");S.push(J+I.W+":hover{background:url("+I.K+") no-repeat center}");S.push(J+I.S+"{height:"+F+"px}");S.push(J+I.X+"{cursor:default;font:"+I.L+";border-bottom:"+L+"}");
S.push(J+I.Y+"{display:inline-block;vertical-align:top}");S.push(J+I.Y+" input{width:"+I.M+"px;margin-right:2px;"+Q+"}");S.push(J+I.aa+"{background:url("+I.ab+") no-repeat center;width:"+I.ac+"px;height:"+I.ad+"px}");this.style=Util.createStyle(S.join(""))};
v.X=function(F){return new v(F)};v.prototype.Y=function(){this.a=$('<div class="'+this.Z.N+'">').prependTo(this.b);this.c=$('<div class="'+this.Z.O+'"><input type="text"/></div>').appendTo(this.a);var I=this;this.c.children(":eq(0)").keyup(function(J){if(J.which===Util.keyMapKeydown.enter){I.k(J.target.value)
}});this.d=$('<div class="'+this.Z.T+'"><div class="'+this.Z.Q+'"><div class="'+this.Z.P+'"> </div><div class="'+this.Z.R+'"></div></div><button type="button" class="'+this.Z.S+'" onclick="JGM.m.SearchManager.'+this.mid+'.n()">  </button></div>').appendTo(this.a);
this.e=$('<div class="'+this.Z.X+'">').appendTo(this.a).hide();var F=this.e;this.d.children(":eq(0)").click(function(){$(this).toggleClass("opened");F.toggle("fast")});F.keyup(function(J){if(J.which===Util.keyMapKeydown.enter){I.l(J.target.getAttribute("key"),J.target.getAttribute("tag"))
}});this.grid.event.bind({onRenderModules:this.aE,onCreateCss:this.V,onFilter:this.ar,onDestroy:this.aA,onAfterRenderModules:this.aF},this)};v.prototype.aE=function(){var K=[];var F=this.grid.colDefMgr.get();for(var J=0;J<F.length;J++){if(Util.isNotNull(F[J].filter)){if(Util.isNotNull(F[J].name)){this.h[F[J].name]=F[J].key
}this.h[F[J].key]=F[J].key;K.push('<div class="'+this.Z.Y+'">');this.j(F[J].key,F[J].name,F[J].filter,K);K.push("</div>")}}this.e[0].innerHTML=K.join("");var I=this.a;this.grid.menubar.addIcon(this.Z.aa,"  .",this.Z.ac,this.Z.ad,function(){I.toggle("fast")
});I.hide()};v.prototype.aF=function(){var J=this;for(var I in this.f){for(var F in this.f[I]){if(F==="andor"||F==="parser"||F==="validator"){continue}this.f[I][F].input=this.e.find("#"+I+this.f[I][F].option.name)}}};v.prototype.aA=function(){delete this.grid.search;
delete this.grid;for(var J in this.f){for(var F in this.f[J]){if(F==="andor"||F==="parser"||F==="validator"){}else{this.f[J][F].input.remove();delete this.f[J][F].input;delete this.f[J][F].option}delete this.f[J][F]}delete this.f[J]}delete this.f;for(var J in this.g){for(var F in this.g[J]){for(var K in this.g[J][F]){this.g[J][F][K].tag.remove();
delete this.g[J][F][K].tag;delete this.g[J][F][K].option;delete this.g[J][F][K].fn;delete this.g[J][F][K]}delete this.g[J][F]}delete this.g[J]}delete this.g;for(var I in this.h){delete this.h[I]}delete this.h;for(var I in this.i){delete this.i[I]}delete this.i;
this.e.unbind();this.e.remove();delete this.e;this.d.children(":eq(0)").unbind();this.d.remove();delete this.d;this.c.children(":eq(0)").unbind();this.c.remove();delete this.c;this.a.remove();delete this.a;delete this.Z;Util.removeStyle(this.style);delete this.style;
JGM.f("SearchManager",this.mid);delete this.mid};v.prototype.ar=function(V,P){if(Util.isEmpty(this.i)){this.c.children(":eq(0)")[0].value="";return}var W;var K=this.g;var U;var X;var R=V.length;var N;var T;var I;var F=this.f;var O=this.constructor.CONST.and;
var M=this.constructor.CONST.or;var J;var S=this.c.children(":eq(0)")[0];var Q="";for(U in K){for(X in K[U]){for(J in K[U][X]){Q+="@"+U+" "+X+" "+J+" "}}}S.value=Q.substring(0,Q.length-1);data_loop:for(var L=R-1;L>=0;L--){N=V[L];for(U in K){I=F[U].andor;T=N[U];
if(I===O){for(X in K[U]){W=K[U][X];for(J in W){if(!W[J].fn(T)){V.removeAt(L);P.push(N);continue data_loop}}}}else{for(X in K[U]){W=K[U][X];for(J in W){if(W[J].fn(T)){continue data_loop}}}V.removeAt(L);P.push(N);continue data_loop}}}};v.prototype.j=function(K,F,M,J){if(K in this.f){return
}if(M==="number"){M=this.constructor.d}else{if(M==="string"){M=this.constructor.e}}this.f[K]={andor:this.constructor.CONST.and};this.g[K]={};var L;J.push("<table>");for(var I=0;I<M.length;I++){L=M[I];if(L.name==="parser"){this.f[K].parser=L.fn;continue}if(L.name==="validator"){this.f[K].validator=L.fn;
continue}this.f[K][L.tag]={option:L};this.g[K][L.tag]={};J.push('<tr title="'+L.comment(F,"")+'"><td><div class="'+this.Z.Z+'">'+F+" "+L.tag+'</td><td><input id="'+K+L.name+'" key="'+K+'" tag="'+L.tag+'" type="text"><button type="button" onclick="JGM.m.SearchManager.'+this.mid+".l('"+K+"','"+L.tag+"')\"></button></div></td></tr>")
}J.push("</table>")};v.prototype.k=function(L){var K=$.trim(L).split(/\s+/);var O;var N;var P;var F;var I=2;var M=false;for(var J=0;J<K.length;J++){switch(I){case 0:if(Util.isNotNull(N)&&K[J] in this.f[N]){P=K[J];I=1}break;case 1:if(Util.isNotNullAnd(N,P)){F=K[J];
I=2}break;case 2:if(K[J].charAt(0)==="@"){O=K[J].substring(1);if(O in this.h){if(Util.isNotNullAnd(N,P,F)){if(this.l(N,P,F,true)){M=true}}N=this.h[O];P=undefined;F=undefined;I=0}else{F+=" "+K[J]}}break;default:}}if(Util.isNotNull(N,P,F)){if(this.l(N,P,F,true)){M=true
}}if(M){this.grid.dataMgr.refresh()}};v.prototype.l=function(N,L,I,J){if(N in this.f&&L in this.f[N]){if(Util.isNull(I)){var M=this.f[N][L].input;var I=$.trim(M.val());M.val("")}if(I.length===0){return false}if(Util.isNotNull(this.f[N].parser)){I=this.f[N].parser(I)
}if((N+"@T"+L+"@B"+I) in this.i){return false}if(Util.isNotNull(this.f[N].validator)){if(!this.f[N].validator(I)){return false}}var K=this.f[N][L].option;var F=this.f[N].andor}else{return false}if(I in this.g[N][L]){return false}var R;var P;for(var Q in this.g[N]){R=this.g[N][Q];
for(var O in R){if(Util.isNotNull(this.f[N].parser)){P=this.f[N].parser(O)}else{P=O}if(this.constructor.c(K.type,R[O].option.type,F,I,P)){delete this.i[N+"@T"+R[O].option.tag+"@B"+P];R[O].tag.remove();delete R[O].tag;delete R[O].option;delete R[O].fn;delete R[O]
}}}this.i[N+"@T"+L+"@B"+I]=true;this.o(N,K,I,N);if(!J){this.grid.dataMgr.refresh()}return true};v.prototype.m=function(I,F,K){if(I in this.g&&F in this.g[I]&&K in this.g[I][F]){var J=this.g[I][F][K];J.tag.remove();delete J.tag;delete J.option;delete J.fn;delete this.g[I][F][K];
delete this.i[I+"@T"+F+"@B"+K];this.grid.dataMgr.refresh()}};v.prototype.n=function(){for(var I in this.g){for(var F in this.g[I]){for(var J in this.g[I][F]){this.g[I][F][J].tag.remove();delete this.g[I][F][J].tag;delete this.g[I][F][J].option;delete this.g[I][F][J].fn;
delete this.g[I][F][J]}}}this.i={};this.grid.dataMgr.refresh()};v.prototype.o=function(I,J,K,F){return this.g[I][J.tag][K]={tag:$('<div class="'+this.Z.U+'" title="'+J.comment(F,K)+'"><div class="'+this.Z.V+'">'+F+" "+J.tag+" "+K+'</div><div class="'+this.Z.W+'" title=" " onclick="JGM.m.SearchManager.'+this.mid+".m('"+I+"','"+J.tag+"','"+K+"')\"></div></div>").appendTo(this.d),option:J,fn:J.fn(K)}
};v.CONST={lt:0,lte:1,eq:2,neq:3,gt:4,gte:5,and:6,or:7,T:8,F:9};var k=v.CONST.lt;var u=v.CONST.gt;var H=v.CONST.eq;var D=v.CONST.neq;var G=v.CONST.and;var n=v.CONST.or;var g=v.CONST.T;var r=v.CONST.F;v.a={};v.a[k]=function(I,F){return I<=F};v.a[u]=function(I,F){return I>=F
};v.a[H]=function(I,F){return I===F};v.a[g]=function(){return true};v.a[r]=function(){return false};v.b={};v.b[k]={};v.b[k][k]={};v.b[k][k][G]=v.a[g];v.b[k][k][n]=v.a[g];v.b[k][u]={};v.b[k][u][G]=v.a[k];v.b[k][u][n]=v.a[u];v.b[k][H]={};v.b[k][H][G]=v.a[g];v.b[k][H][n]=v.a[u];
v.b[k][D]={};v.b[k][D][G]=v.a[k];v.b[k][D][n]=v.a[g];v.b[u]={};v.b[u][k]={};v.b[u][k][G]=v.a[u];v.b[u][k][n]=v.a[k];v.b[u][u]={};v.b[u][u][G]=v.a[g];v.b[u][u][n]=v.a[g];v.b[u][H]={};v.b[u][H][G]=v.a[g];v.b[u][H][n]=v.a[k];v.b[u][D]={};v.b[u][D][G]=v.a[u];v.b[u][D][n]=v.a[g];
v.b[H]={};v.b[H][k]={};v.b[H][k][G]=v.a[g];v.b[H][k][n]=v.a[k];v.b[H][u]={};v.b[H][u][G]=v.a[g];v.b[H][u][n]=v.a[u];v.b[H][H]={};v.b[H][H][G]=v.a[g];v.b[H][H][n]=v.a[H];v.b[H][D]={};v.b[H][D][G]=v.a[g];v.b[H][D][n]=v.a[g];v.b[D]={};v.b[D][k]={};v.b[D][k][G]=v.a[u];
v.b[D][k][n]=v.a[g];v.b[D][u]={};v.b[D][u][G]=v.a[k];v.b[D][u][n]=v.a[g];v.b[D][H]={};v.b[D][H][G]=v.a[g];v.b[D][H][n]=v.a[g];v.b[D][D]={};v.b[D][D][G]=v.a[H];v.b[D][D][n]=v.a[g];v.c=function(J,F,I,K,M){try{return this.b[J][F][I](K,M)}catch(L){return false}};
v.d=[{name:"gt",tag:">",type:v.CONST.gt,comment:function(F,I){return F+" () "+I+" "},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I>F}}},{name:"gte",tag:">=",type:v.CONST.gt,comment:function(F,I){return F+" () "+I+"  "
},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I>=F}}},{name:"lt",tag:"<",type:v.CONST.lt,comment:function(F,I){return F+" () "+I+" "},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I<F}}},{name:"lte",tag:"<=",type:v.CONST.lt,comment:function(F,I){return F+" () "+I+"  "
},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I<=F}}},{name:"eq",tag:"=",type:v.CONST.eq,comment:function(F,I){return F+" () "+I+""},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I===F}}},{name:"neq",tag:"!=",type:v.CONST.neq,comment:function(F,I){return F+" () "+I+"() "
},fn:function(F){if(Util.isString(F)){F=F.toFloat()}return function(I){return I!==F}}},{name:"contains",tag:"*=",comment:function(F,I){return F+" ()  "+I+" "},fn:function(F){if(Util.isNumber(F)){F=""+F}else{F=$.trim(F)}return function(I){return(""+I).indexOf(F)!==-1
}}},{name:"parser",fn:function(F){return F.toFloat()}},{name:"validator",fn:function(F){return !isNaN(F)}}];v.e=[{name:"to",tag:"<=",type:v.CONST.lt,comment:function(F,I){return F+" () "+I+"  "},fn:function(F){F=$.trim(F).toLowerCase();return function(I){return I.toLowerCase()<=F
}}},{name:"from",tag:">=",type:v.CONST.gt,comment:function(F,I){return F+" () "+I+"  "},fn:function(F){F=$.trim(F).toLowerCase();return function(I){return I.toLowerCase()>=F}}},{name:"equals",tag:"=",type:v.CONST.eq,comment:function(F,I){return F+" () "+I+"() "
},fn:function(F){F=$.trim(F).toLowerCase();return function(I){return I.toLowerCase()===F}}},{name:"notEquals",tag:"!=",type:v.CONST.neq,comment:function(F,I){return F+" () "+I+"() "},fn:function(F){F=$.trim(F).toLowerCase();return function(I){return I.toLowerCase()!==F
}}},{name:"startsWith",tag:"^=",comment:function(F,I){return F+" () "+I+"() "},fn:function(I){I=$.trim(I).toLowerCase();var F=I.length;return function(J){return J.substr(0,F).toLowerCase()===I}}},{name:"endsWith",tag:"$=",comment:function(F,I){return F+" () "+I+"() "
},fn:function(I){I=$.trim(I).toLowerCase();var F=I.length;return function(J){return J.substr(J.length-F,J.length).toLowerCase()===I}}},{name:"contains",tag:"*=",comment:function(F,I){return F+" () "+I+"() "},fn:function(F){F=$.trim(F).toLowerCase();
return function(I){return I.toLowerCase().indexOf(F)!==-1}}},{name:"containsAny",tag:"|=",comment:function(F,I){return F+" () "+I+"    "},fn:function(J){J=$.trim(J).toLowerCase();var F=J.split(/\s+/);var I=F.length;if(I<=1){return function(K){return K.toLowerCase().indexOf(J)!==-1
}}return function(L){L=L.toLowerCase();for(var K=0;K<I;K++){if(L.indexOf(F[K])!==-1){return true}}return false}}},{name:"containsAll",tag:"&=",comment:function(F,I){return F+" () "+I+"  "},fn:function(J){J=$.trim(J).toLowerCase();var F=J.split(/\s+/);
var I=F.length;if(I<=1){return function(K){return K.toLowerCase().indexOf(J)!==-1}}return function(L){L=L.toLowerCase();for(var K=0;K<I;K++){if(L.indexOf(F[K])===-1){return false}}return true}}}];JGM.b("SearchManager",v);function p(I){this.mid=I.mid;this.grid=I.grid;
this.grid.selMgr=this;var F={a:"@UID",b:"#DCEBFE",c:"#C1DBFC",d:"#D9D9D9",e:"jgrid-selection",f:"selection-last",g:"selection-range",h:false};this.Z=JGM.e(F,I.options,{rowSelKey:"a",bgColorSelection:"b",bgColorLast:"c",bgColorRange:"d",classSelection:"e",classLast:"f",classRange:"g",multiSelectEnabled:"h"});
this.a={a:1,b:2,c:3,d:4,f:5,g:6,h:7,i:8,e:{}};this.a.e=Util.which(["enter","tab","arrow","pgdn","pgup","home","end"]);this.b;this.c;this.d={length:0};this.e={length:0};this.f={length:0};this.u;this.Y()}p.X=function(F){return new p(F)};p.prototype.Y=function(){this.grid.event.bind({onGetCellClass:this.aI,onCreateCss:this.V,onDestroy:this.aA,keydownCanvas:this.ba,dragoverCanvas:this.be,mousedownCanvas:this.bf,onBeforeRerender:this.t},this)
};p.prototype.aA=function(){delete this.grid.selMgr;delete this.grid;delete this.Z;for(var I in this.a.e){delete this.a.e[I]}delete this.a.e;for(var I in this.a){delete this.a[I]}delete this.a;if(Util.isNotNull(this.b)){for(var I in this.b){delete this.b[I]
}}delete this.b;if(Util.isNotNull(this.c)){for(var I in this.c){delete this.c[I]}}delete this.c;for(var I in this.d){if(I!=="length"){for(var F in this.d[I]){delete this.d[I][F]}}delete this.d[I]}delete this.f;for(var I in this.e){if(I!=="length"){for(var F in this.e[I]){delete this.e[I][F]
}}delete this.e[I]}delete this.e;for(var I in this.f){if(I!=="length"){for(var F in this.f[I]){delete this.f[I][F]}}delete this.f[I]}delete this.f;Util.removeStyle(this.u);delete this.u;JGM.f("SelectionManager",this.mid);delete this.mid};p.prototype.V=function(){this.grid.event.trigger("onBeforeCreateSelCss");
var F="#"+this.grid.mid+" .";var I=[];if(this.Z.h){I.push(F+this.Z.e+"{background:"+this.Z.b+"}");I.push(F+this.Z.g+"{background:"+this.Z.d+"}")}I.push(F+this.Z.f+"{background:"+this.Z.c+"}");this.u=Util.createStyle(I.join(""))};p.prototype.aI=function(L,F,K,J){var I=[];
if(Util.isNotNull(this.b)&&this.g(this.b,L,F)){I.push(this.Z.f)}if(this.Z.h){if(Util.isNotNull(this.c)&&this.g(this.c,L,F)){I.push(this.Z.g)}if(L in this.d&&F in this.d[L]){I.push(this.Z.e)}}return I.join(" ")};p.prototype.g=function(I,J,F){return Util.isNotNull(I)&&I.row===J&&I.col===F
};p.prototype.bf=function(J,F){if(Util.isNotNull(this.b)&&this.b.cell.equals(F)){return}this.grid.event.trigger("onBeforeSelect",[J,F]);if(this.Z.h===false){this.selectCell(F)}else{if(J.shiftKey&&Util.isNotNullAnd(this.b,this.c)){var I=this.selectRange(F);this.grid.view.Ac(I.minRow,I.maxRow)
}else{if(J.ctrlKey){if(F.getKey()===this.Z.a){this.addRow(F)}else{this.addCell(F)}}else{if(F.getKey()===this.Z.a){this.selectRow(F)}else{this.selectCell(F)}}}}};p.prototype.be=function(I,F){if(this.Z.h===false){this.selectCell(F)}else{if(Util.isNotNullAnd(this.b,this.c)){this.selectRange(F)
}}};p.prototype.ba=function(J){if(Util.isNullOr(this.b,this.c)){return}if(this.a.e[J.which]){J.preventDefault();this.grid.event.trigger("onBeforeNavigate",[J]);switch(J.which){case Util.keyMapKeydown.tab:if(J.shiftKey){this.selectCell(this.j(this.a.c,this.b))
}else{this.selectCell(this.j(this.a.d,this.b))}break;case Util.keyMapKeydown.enter:if(J.shiftKey){this.selectCell(this.j(this.a.a,this.b))}else{this.selectCell(this.j(this.a.b,this.b))}break;case Util.keyMapKeydown.up:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.a,this.c))
}else{this.selectCell(this.j(this.a.a,this.b))}break;case Util.keyMapKeydown.down:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.b,this.c))}else{this.selectCell(this.j(this.a.b,this.b))}break;case Util.keyMapKeydown.left:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.c,this.c))
}else{this.selectCell(this.j(this.a.c,this.b))}break;case Util.keyMapKeydown.right:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.d,this.c))}else{this.selectCell(this.j(this.a.d,this.b))}break;case Util.keyMapKeydown.pgup:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.g,this.c))
}else{this.selectCell(this.j(this.a.g,this.b))}break;case Util.keyMapKeydown.pgdn:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.f,this.c))}else{this.selectCell(this.j(this.a.f,this.b))}break;case Util.keyMapKeydown.space:if(J.shiftKey){this.selectCell(this.j(this.a.g,this.b))
}else{this.selectCell(this.j(this.a.f,this.b))}break;case Util.keyMapKeydown.home:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.h,this.c))}else{this.selectCell(this.j(this.a.h,this.b))}break;case Util.keyMapKeydown.end:if(this.Z.h&&J.shiftKey){this.selectRange(this.j(this.a.i,this.c))
}else{this.selectCell(this.j(this.a.i,this.b))}break}}else{if(this.e.length===1){var I;for(var F in this.e){I=this.grid.colDefMgr.get(F).key;this.grid.event.trigger("keydownColSel_"+I+"_"+J.which+" keydownColSel_"+I,[J,this.e[F],this.b.cell])}}if(this.d.length===1){for(var K in this.d){this.grid.event.trigger("keydownRowSel_"+J.which+" keydownRowSel",[J,this.d[K],this.b.cell])
}}this.grid.event.trigger("keydownSel_"+J.which+" keydownSel",[J,this.f,this.d,this.e])}};p.prototype.getCell=function(){if(Util.isNotNull(this.b)){return this.b.cell}};p.prototype.h=function(F){return Util.isNotNull(this.b)&&this.b.cell.equals(F)};JGM.Cell.prototype.isSelected=function(){return this.grid.selMgr.h(this)
};p.prototype.i=function(I,J,F){switch(I){case this.a.d:if(F<this.grid.colDefMgr.length()-1){F++}break;case this.a.c:if(F>0){F--}break;case this.a.b:if(J<this.grid.dataMgr.datalist.length-1){J++}break;case this.a.a:if(J>0){J--}break;case this.a.f:J+=this.grid.view.Z.e;
if(J>this.grid.dataMgr.datalist.length-1){J=this.grid.dataMgr.datalist.length-1}break;case this.a.g:J-=this.grid.view.Z.e;if(J<0){J=0}break;case this.a.h:J=0;break;case this.a.i:J=this.grid.dataMgr.datalist.length-1;break}return{row:J,col:F}};p.prototype.j=function(I,F){var J=this.i(I,F.row,F.col);
return JGM.create("Cell",{grid:this.grid,row:J.row,col:J.col})};p.prototype.selectRow=function(F){var J=F.getRowIdx();var I=F.getColIdx();this.k(J,I,F);this.l(J,I,F);this.p(this.s({},J,I,F))};p.prototype.selectCell=function(F){var J=F.getRowIdx();var I=F.getColIdx();
this.k(J,I,F);this.l(J,I,F);this.p(this.q({},J,I,F))};p.prototype.t=function(F){if(Util.isNotNull(this.b)&&Util.isNotNull(this.b.cell)){this.selectCell(this.b.cell)}};p.prototype.addRow=function(F){var J=F.getRowIdx();var I=F.getColIdx();this.k(J,I,F);this.l(J,I,F);
this.m(this.s({},J,I,F))};p.prototype.addCell=function(F){var J=F.getRowIdx();var I=F.getColIdx();this.k(J,I,F);this.l(J,I,F);this.m(this.q({},J,I,F))};p.prototype.selectRange=function(M){var O=M.getRowIdx();var F=M.getColIdx();var P=this.b.row;var I=this.b.col;
this.l(O,F,M);var J=P<O?P:O;var K=P<O?O:P;if(M.getKey()===this.Z.a){var L=0;var N=this.grid.colDefMgr.length()-1}else{var L=I<F?I:F;var N=I<F?F:I}this.p(this.r({},J,L,K,N,O,F,M));return{minRow:J,minCol:L,maxRow:K,maxCol:N}};p.prototype.k=function(K,I,F){if(Util.isNotNull(this.b)){if(K!==this.b.row&&(Util.isNotNull(this.c)&&this.b.row!==this.c.row)){this.grid.view.Ag(this.b.row)
}if(K!==this.b.row||I!==this.b.col){if(Util.isNotNull(this.b.cell)){var J=this.b.cell.get$();if(Util.isNotNull(J)){J.removeClass(this.Z.f)}}}else{return}}if(Util.isNullOr(K,I,F)){this.b=undefined}else{var J=F.get$();if(Util.isNotNull(J)){J.addClass(this.Z.f)
}this.b={row:K,col:I,cell:F};this.grid.view.Af(K)}};p.prototype.l=function(M,J,F){this.grid.view.Ab(M);if(Util.isNotNull(this.c)){if(M!==this.c.row&&(Util.isNotNull(this.b)&&this.b.row!==this.c.row)){this.grid.view.Ag(this.c.row)}if(M!==this.c.row||J!==this.c.col){if(Util.isNotNull(this.c.cell)){var L=this.c.cell.get$();
if(Util.isNotNull(L)){L.removeClass(this.Z.g)}}}else{return}}if(Util.isNullOr(M,J,F)){this.c=undefined}else{var L=F.get$();if(Util.isNotNull(L)){L.addClass(this.Z.g)}this.c={row:M,col:J,cell:F};this.grid.view.Af(M);var I=this.grid.view;var K=I.Z.e-2;if(I.n()<M){I.scrollToRow(I.o(M))
}if(I.l()>M){I.scrollToRow(M)}if(I.s()<J){I.scrollToCol(I.t(J))}if(I.q()>J){I.scrollToCol(J)}}};p.prototype.m=function(K){for(var J in K){if(!(J in this.f)){var I=K[J];this.n(J,I.row,I.col,I);if(Util.isNull(I.cell)){I.cell=JGM.create("Cell",{grid:this.grid,row:I.row,col:I.col})
}var F=I.cell.get$();if(Util.isNotNull(F)){F.addClass(this.Z.e)}}}};p.prototype.n=function(J,K,F,I){this.f[J]=I;this.f.length++;if(K in this.d){this.d[K].length++}else{this.d[K]={length:1};this.d.length++}this.d[K][F]=I;if(F in this.e){this.e[F].length++}else{this.e[F]={length:1};
this.e.length++}this.e[F][K]=I};p.prototype.o=function(I,J,F){this.grid.view.Ab(J);delete this.f[I];this.f.length--;if(--this.d[J].length===0){delete this.d[J];this.d.length--}else{delete this.d[J][F]}if(--this.e[F].length===0){delete this.e[F];this.e.length--
}else{delete this.e[F][J]}};p.prototype.p=function(K){for(var J in this.f){if(J==="length"){continue}var I=this.f[J];if(J in K){if(Util.isNull(I.cell)){I.cell=K[J].cell}delete K[J]}else{var F;if(Util.isNull(I.cell)){F=JGM.create("Cell",{grid:this.grid,row:I.row,col:I.col}).get$()
}else{F=I.cell.get$()}if(Util.isNotNull(F)){F.removeClass(this.Z.e)}this.o(J,I.row,I.col)}}this.m(K)};p.prototype.q=function(J,K,I,F){J[K+","+I]={row:K,col:I,cell:F};return J};p.prototype.r=function(I,N,Q,F,K,P,J,O){for(var M=N;M<=F;M++){for(var L=Q;L<=K;L++){I[M+","+L]={row:M,col:L}
}}if(Util.isNotNull(O)){I[P+","+J]={row:P,col:J,cell:O}}return I};p.prototype.s=function(L,M,J,F){var I=this.grid.colDefMgr.length();for(var K=0;K<I;K++){L[M+","+K]={row:M,col:K}}if(Util.isNotNull(F)){L[M+","+J]={row:M,col:J,cell:F}}return L};p.prototype.empty=function(){this.k();
if(this.Z.h){this.l();this.p({})}};JGM.b("SelectionManager",p);function c(I){this.mid=I.mid;this.grid=I.grid;this.grid.tooltip=this;this.b=I.container;var F={a:"jgrid-tooltip",b:true,c:0,d:18,e:"#F5F5F5",f:"1px solid #868686",g:"2px 10px",h:"14px Arial,Helvetica,sans-serif",i:"#333"};
this.Z=JGM.e(F,I.options,{classTooltip:"a",tooltipSyncEnabled:"b",offsetX:"c",offsetY:"d",background:"e",border:"f",padding:"g",font:"h",color:"i"});this.b;this.a;this.Y()}c.X=function(F){return new c(F)};c.prototype.Y=function(){this.grid.event.bind({onCreateCss:this.V,onDestroy:this.aA,mouseoutCanvas:this.bb,mousemoveCanvas:this.bc,mouseoverCanvas:this.bd},this)
};c.prototype.aA=function(){delete this.grid.tooltip;delete this.grid;if(Util.isNotNull(this.a)){this.a.remove();delete this.a}delete this.Z;delete this.b;Util.removeStyle(this.b);delete this.b;JGM.f("TooltipManager",this.mid);delete this.mid};c.prototype.V=function(){var F="#"+this.grid.mid+" .";
var I=[];I.push(F+this.Z.a+"{position:absolute;z-index:10;background:"+this.Z.e+";border:"+this.Z.f+";padding:"+this.Z.g+";color:"+this.Z.i+";font:"+this.Z.h+"}");this.b=Util.createStyle(I.join(""))};c.prototype.bb=function(I,F){if(Util.isNotNull(this.a)){this.b[0].removeChild(this.a[0]);
delete this.a}};c.prototype.bc=function(I,F){if(this.Z.b&&Util.isNotNull(this.a)){this.a.css({left:(I.pageX+this.Z.c)+"px",top:(I.pageY+this.Z.d)+"px"})}};c.prototype.bd=function(J,F){if(F.getColDef().tooltipEnabled){if(Util.isNull(this.a)){var I=document.createElement("div");
I.innerHTML='<div class="'+this.Z.a+'" style="left:'+(J.pageX+this.Z.c)+"px;top:"+(J.pageY+this.Z.d)+'px">'+F.getValue()+"</div>";if(Util.isNotNull(this.a)){this.b[0].removeChild(this.a[0])}this.a=$(I.firstChild);this.b[0].appendChild(this.a[0])}}};JGM.b("TooltipManager",c);
function A(I){this.mid=I.mid;this.b=I.container;this.a;this.c;this.grid=I.grid;this.grid.view=this;var F={a:"r",b:3,c:10,d:6,e:10,f:21,g:1,h:"solid #D0D7E5",i:1,j:false,k:"#F4F4F4",q:"",r:"",s:"",t:"",l:"jgrid-row",m:"jgrid-cell",n:"jgrid-viewport",o:"jgrid-canvas",p:false,Cache:undefined,u:"#FFF",v:"2px solid #f1ca7f",w:false,x:false};
this.Z=JGM.e(F,I.options,{attrRowIdx:"a",appendThreshold:"b",renderThreshold:"c",bufferSize:"d",rowsPerPage:"e",rowH:"f",borderThickness:"g",border:"h",padding:"i",evenOddRows:"j",oddRowsBackground:"k",classRow:"l",classCell:"m",classView:"n",classCanvas:"o",style:"q",canvasStyle:"r",rowStyle:"s",cellStyle:"t",cacheDom:"p",focusBackground:"u",focusOutline:"v",autoHeight:"w",autoWidth:"x"});
this.d;this.W={a:false,d:0,e:0,l:0};this.A={};this.B={};this.AD;this.AE;this.AF;this.Y()}A.X=function(F){return new A(F)};A.prototype.Y=function(){this.d=JGM.create("Cache",{options:this.Z.Cache});delete this.Z.Cache;this.a=$('<div class="'+this.Z.n+'" tabIndex="0" onscroll="JGM.m.ViewportManager.'+this.mid+'.As()">').appendTo(this.b);
this.c=$('<div class="'+this.Z.o+'">').appendTo(this.a);this.a.bind("selectstart.ui",function(F){return $(F.target).is("input, textarea")});this.W.l=this.grid.dataMgr.datalist.length;this.grid.event.bind({canvasFind:this.AC,onCreateCss:this.V,onDestroy:this.e,keydown:this.U,keyup:this.T,keypress:this.S,mousein:this.R,mouseout:this.Q,mouseenter:this.P,mouseleave:this.O,mousemove:this.N,mouseover:this.M,mousedown:this.L,mouseup:this.K,click:this.J,dblclick:this.I,resizeWidth:this.AV,"resizeWidth onResizeCol onResizeCanvasHeight":this.AZ,recache:this.Aa,removeRowCache:this.Ab,focusCanvas:this.At,onAfterRefresh:this.Ba,onRenderModules:this.w},this);
this.grid.event.bind("freeViewportCache",this.d.freeAll,this.d)};A.prototype.e=function(){delete this.grid.view;delete this.grid;this.d.destroy();delete this.d;this.c.remove();delete this.c;this.a.unbind().remove();delete this.a;delete this.b;delete this.Z;
for(var F in this.W){delete this.W[F]}delete this.W;for(var F in this.B){delete this.B[F]}delete this.B;for(var F in this.A){delete this.A[F]}delete this.A;Util.removeStyle(this.AD);delete this.AD;Util.removeStyle(this.AE);delete this.AE;for(var F in this.AF){Util.removeStyle(this.AF[F]);
delete this.AF[F]}delete this.AF;JGM.f("ViewportManager",this.mid);delete this.mid};A.prototype.V=function(){var K="#"+this.grid.mid+" .";var I=this.Z;var M=K+I.m;var P=K+I.l;var O=this.AT();var L=I.g+"px "+I.h;var Q=[];Q.push(K+I.n+"{height:"+this.AP()+"px;outline:0;position:relative;white-space:nowrap;overflow:auto;line-height:"+I.f+"px;cursor:default;-moz-user-select:none;-webkit-user-select:none;"+I.q+"}");
Q.push(K+I.n+":focus{background:"+I.u+";outline:"+I.v+"}");Q.push(K+I.o+"{height:"+this.AR()+"px;"+I.r+";background:#fff}");Q.push(P+"{position:absolute;"+I.s+"}");Q.push(M+"{height:"+I.f+"px;border-bottom:"+L+";overflow:hidden;float:left;text-overflow:ellipsis;padding-left:"+I.i+"px;border-right:"+L+";"+I.t+"}");
var J=P+"["+I.a;if(I.j){Q.push(J+"$='1'],"+J+"$='3'],"+J+"$='5'],"+J+"$='7'],"+J+"$='9']{background:"+I.k+"}")}var F=this.grid.colDefMgr.get();for(var N=0;N<F.length;N++){Q.push(M+".k_"+F[N].key+"{"+F[N].style+"}")}this.AD=Util.createStyle(Q.join(""));this.AE=Util.createStyle("");
this.AU(O);this.AF={};for(var N=0;N<F.length;N++){this.AF[F[N].key]=Util.createStyle(M+".k_"+F[N].key+"{width:"+F[N].width+"px}")}};A.prototype.AG=function(){return"#"+this.grid.mid+" ."+this.Z.m};A.prototype.AH=function(){return"#"+this.grid.mid+" ."+this.Z.l
};A.prototype.scrollTo=function(I,F){this.a[0].scrollTop=this.AN()*I;this.a[0].scrollLeft=this.getColLeft(F)};A.prototype.scrollToRow=function(F){this.a[0].scrollTop=this.AN()*F};A.prototype.scrollToCol=function(F){this.a[0].scrollLeft=this.getColLeft(F)};A.prototype.AI=function(F){return this.grid.colDefMgr.get(F).width
};A.prototype.AJ=function(F){return this.grid.colDefMgr.getByKey(F).width};A.prototype.getColWidth=function(F){return this.grid.colDefMgr.get(F).width+this.Z.i};A.prototype.getColWidthByKey=function(F){return this.grid.colDefMgr.getByKey(F).width+this.Z.i};
A.prototype.AK=function(F){return this.grid.colDefMgr.get(F).width+this.Z.i+this.Z.g};A.prototype.AL=function(F){return this.grid.colDefMgr.getByKey(F).width+this.Z.i+this.Z.g};A.prototype.AM=function(){return this.Z.i};A.prototype.f=function(){return this.Z.i+this.Z.g
};A.prototype.AN=function(){return this.Z.f+this.Z.g};A.prototype.AO=function(){return this.Z.f};A.prototype.AP=function(){if(this.Z.w){return this.AR()+(this.grid.width()<this.AT()?this.grid.W.b.h:0)}return this.AN()*this.Z.e};A.prototype.getHeight=function(){return this.a[0].offsetHeight
};A.prototype.getInnerHeight=function(){return this.a[0].clientHeight};A.prototype.AQ=function(){return this.a[0].offsetWidth};A.prototype.getInnerWidth=function(){return this.a[0].clientWidth};A.prototype.AR=function(){return this.AN()*this.grid.dataMgr.datalist.length
};A.prototype.getCanvasHeight=function(){return this.c[0].clientHeight};A.prototype.AS=function(I){var F=this.getCanvasHeight();if(I!=F){this.c[0].style.height=I+"px";this.grid.event.trigger("onResizeCanvasHeight",[I,F])}};A.prototype.AT=function(){var F=this.grid.colDefMgr.get();
return F.reduce(function(J,I){return J+I.width},0)+F.length*(this.f())};A.prototype.getCanvasWidth=function(){return this.c[0].clientWidth};A.prototype.AU=function(I){var F=this.getCanvasWidth();if(I!=F){this.c[0].style.width=I+"px";Util.setStyle(this.AE,this.AH()+"{width:"+I+"px}");
this.grid.event.trigger("onResizeCanvasWidth",[I,F])}};A.prototype.getColLeft=function(I){if(I<1){return 0}var F=this.grid.colDefMgr.get();var L=0;var K=this.f();for(var J=0;J<I&&J<F.length;J++){L+=F[J].width+K}return L};A.prototype.setColWToSpanViewport=function(){var R=this.W.i-this.grid.W.b.w;
var L=[];var M=0;var I=0;var J=this.grid.colDefMgr.get();for(var N=0;N<J.length;N++){var S=J[N];var U=S.width;L.push(U);M+=U;I+=U-S.minW}if(I===0){return}while(M>R){var P=(M-R)/I;for(var N=0;N<J.length&&M>R;N++){var S=J[N];if(S.minW===S.width){continue}var Q=Math.floor(P*(S.width-S.minW))||1;
M-=Q;L[N]-=Q}}var K=M;while(M<R){var F=R/M;for(var N=0;N<J.length&&M<R;N++){var S=J[N];var T=S.maxW;var U=S.width;if(T<=U){continue}var O=Math.min(Math.floor(F*U)-U,(T-U)||1000000)||1;M+=O;L[N]+=O}if(K==M){break}K=M}for(var N=0;N<J.length;N++){J[N].width=L[N]
}this.grid.h()};A.prototype.setWidthByKey=function(J,I){var L=this.grid.colDefMgr.getByKey(J);if(I===L.width){return}var F=L.width;var K=this.getCanvasWidth()+I-F;this.AU(K);L.width=I;Util.setStyle(this.AF[J],this.AG()+".k_"+J+"{width:"+I+"px}");this.grid.event.trigger("onResizeCol_"+J+" onResizeCol",[J,I,F])
};A.prototype.AV=function(F){this.a[0].style.width=F+"px"};A.prototype.g=function(){return this.a[0].scrollTop};A.prototype.h=function(){return this.a[0].scrollLeft};A.prototype.i=function(){return this.a[0].offsetHeight>this.a[0].clientHeight};A.prototype.j=function(){return this.a[0].offsetWidth>this.a[0].clientWidth
};A.prototype.AW=function(){return this.a[0].offsetHeight-this.a[0].clientHeight};A.prototype.AX=function(){return this.a[0].offsetWidth-this.a[0].clientWidth};A.prototype.k=function(){var F=this.a[0].scrollTop;if(F<1){return 0}return Math.floor(F/this.AN())
};A.prototype.l=function(){var F=this.a[0].scrollTop;if(F<1){return 0}return Math.ceil(F/this.AN())};A.prototype.m=function(){return Math.ceil((this.a[0].scrollTop+this.getInnerHeight())/this.AN())-1};A.prototype.n=function(){return Math.floor((this.a[0].scrollTop+this.getInnerHeight())/this.AN())-1
};A.prototype.o=function(F){return F-Math.floor(this.getInnerHeight()/this.AN())+1};A.prototype.p=function(){var L=this.a[0].scrollLeft;if(L<1){return 0}var F=this.grid.colDefMgr.get();var I=F.length;var K=this.f();for(var J=0;J<I;J++){L-=F[J].width+K;if(L<0){return J
}if(L===0){return J+1}}return J};A.prototype.q=function(){var L=this.a[0].scrollLeft;if(L<1){return 0}var F=this.grid.colDefMgr.get();var I=F.length;var K=this.f();for(var J=0;J<I;J++){L-=F[J].width+K;if(L<=0){return J+1}}return J};A.prototype.r=function(){var L=this.a[0].scrollLeft+this.getInnerWidth();
var F=this.grid.colDefMgr.get();var I=F.length;var K=this.f();for(var J=0;J<I;J++){L-=F[J].width+K;if(L<=0){return J}}return J};A.prototype.s=function(){var L=this.a[0].scrollLeft+this.getInnerWidth();var F=this.grid.colDefMgr.get();var I=F.length;var K=this.f();
for(var J=0;J<I;J++){L-=F[J].width+K;if(L<0){return J-1}}return J-1};A.prototype.t=function(I){var F=this.grid.colDefMgr.get();var K=this.f();var L=this.getInnerWidth();for(var J=I;J>=0;J--){L-=F[J].width+K;if(L===0){return J}if(L<0){return J+1}}return 0};A.prototype.u=function(){if(this.Z.w){return{start:0,end:this.grid.dataMgr.datalist.length-1}
}var F={start:this.k()-this.Z.d,end:this.m()+this.Z.d};if(F.start<0){F.start=0}var I=this.grid.dataMgr.datalist.length-1;if(F.end>I){F.end=I}return F};A.prototype.AY=function(){this.a[0].style.height=this.getCanvasHeight()+this.AW()+"px"};A.prototype.AZ=function(F){if(this.Z.w){this.AY()
}};A.prototype.Ba=function(){this.grid.event.trigger("onBeforeRerender");this.Ah();this.d.freeAll();this.y();var F=this.grid.dataMgr.datalist.length;if(this.W.l!==F){this.W.l=F;this.AS(this.AR())}this.w()};A.prototype.Bb=function(I){if(I in this.A){delete this.B[I];
delete this.A[I];this.c[0].removeChild(this.Au(I));this.d.remove(I);var F={start:I,end:I};if(this.Z.p){this.Ak(F)}else{this.Al(F)}}};A.prototype.Bc=function(K,J){for(var I=K;I<=J;I++){if(I in this.A){delete this.B[I];delete this.A[I];this.c[0].removeChild(this.Au(I));
this.d.remove(I)}}var F={start:K,end:J};if(this.Z.p){this.Ak(F)}else{this.Al(F)}};A.prototype.w=function(F){if(this.Ad()||this.Z.p){this.x(F)}else{this.Am(F)}};A.prototype.x=function(F){if(Util.isNull(F)){F=this.u()}if(this.Z.p){this.Ak(F)}else{this.Al(F)}this.z(F)
};A.prototype.y=function(I){var J=this.c[0];if(Util.isNull(I)){if(this.Ad()){for(var K in this.A){if(!(K in this.B)){delete this.A[K];J.removeChild(this.Au(K))}}}else{this.A={};J.innerHTML=""}return}var L=I.start;var F=I.end;for(var K=L;K<=F;K++){if(!(K in this.B)&&K in this.A){delete this.A[K];
J.removeChild(this.Au(K))}}};A.prototype.z=function(I){var J=this.c[0];if(Util.isNull(I)){if(this.Ad()){for(var K in this.A){if(!(K in this.B)){delete this.A[K];J.removeChild(this.Au(K))}}}else{this.A={};J.innerHTML=""}return}var L=I.start;var F=I.end;for(var K in this.A){if(K in this.B||(L<=K&&K<=F)){continue
}delete this.A[K];J.removeChild(this.Au(K))}};A.prototype.Aa=function(){this.d.freeAll();if(this.Z.p){this.Ai()}};A.prototype.Ab=function(F){this.d.remove(F)};A.prototype.Ac=function(J,I){for(var F=J;F<=I;F++){this.d.remove(F)}};A.prototype.Ad=function(){for(var F in this.B){return true
}return false};A.prototype.Af=function(F){this.B[F]=true};A.prototype.Ae=function(J,I){for(var F=J;F<=I;F++){this.B[F]=true}};A.prototype.Ag=function(F){delete this.B[F]};A.prototype.Ah=function(){this.B={}};A.prototype.Ai=function(){var I=this.c[0].childNodes;
if(this.Z.p){for(var F=0;F<I.length;F++){this.d.add(this.Aw(I[F]),I[F])}}else{for(var F=0;F<I.length;F++){this.d.add(this.Aw(I[F]),Util.outerHTML(I[F]))}}};A.prototype.Aj=function(){if(this.Z.p){return this.d.cacheMap}return{}};A.prototype.Ak=function(P){var T=[];
var I=P.start;var N=P.end;var Q=[];var K=this.c[0];var M=this.grid.dataMgr.datalist;var J=this.grid.colDefMgr.get();var L=this.An(J);for(var O=I;O<=N;O++){if(O in this.A){continue}this.A[O]=true;var F=this.d.get(O);if(Util.isNull(F)){this.Ap(M[O],O,J,L,T);Q.push(O)
}else{K.appendChild(F)}}var S=document.createElement("div");S.innerHTML=T.join("");var R=S.childNodes.length;for(var O=0;O<R;O++){this.d.add(Q[O],K.appendChild(S.firstChild))}};A.prototype.Al=function(O){var R=[];var F=O.start;var M=O.end;var J=this.c[0];var L=this.grid.dataMgr.datalist;
var I=this.grid.colDefMgr.get();var K=this.An(I);for(var N=F;N<=M;N++){if(N in this.A){continue}this.A[N]=true;if(this.d.hasKey(N)){R.push(this.d.get(N))}else{R.push(this.d.add(N,this.Ap(L[N],N,I,K).join("")))}}var Q=document.createElement("div");Q.innerHTML=R.join("");
var P=Q.childNodes.length;for(var N=0;N<P;N++){J.appendChild(Q.firstChild)}};A.prototype.Am=function(K){if(Util.isNull(K)){K=this.u()}var N=[];var O=K.start;var I=K.end;var M=this.grid.dataMgr.datalist;var J=this.grid.colDefMgr.get();var F=this.An(J);this.A={};
for(var L=O;L<=I;L++){this.A[L]=true;if(this.d.hasKey(L)){N.push(this.d.get(L))}else{N.push(this.d.add(L,this.Ap(M[L],L,J,F).join("")))}}this.c[0].innerHTML=N.join("")};A.prototype.Ao=function(I){var F=this.Z.m+" k_"+I.key;if(Util.isNotNull(I.colClass)){F+=" "+I.colClass
}F+=" "+this.grid.event.trigger("onGetColCellClass",[I]).join(" ");return F};A.prototype.An=function(F){var J=[];if(Util.isNull(F)){var F=this.grid.colDefMgr.get()}for(var I=0;I<F.length;I++){J.push(this.Ao(F[I]))}return J};A.prototype.Ap=function(M,L,I,F,K){if(Util.isNull(K)){var K=[]
}K.push('<div id="'+this.mid+"r"+L+'" class="'+this.Z.l+'"'+this.Z.a+'="'+L+'" style="top:'+(this.AN()*L)+'px">');for(var J=0;J<I.length;J++){var N=this.grid.event.trigger("onGetCellClass",[L,J,M,I[J]]).join(" ");K.push('<div class="'+F[J]+" "+N+'">');this.Aq(L,J,M,I[J],K);
K.push("</div>")}K.push("</div>");return K};A.prototype.Aq=function(I,L,J,F,K){if(Util.isNull(K)){var K=[]}this.grid.event.trigger("onRenderCell_"+F.key+"_prepend",[I,L,J,F,K,this.grid.dataMgr.idKey]);if(F.rendererInput){K.push(F.renderer(JGM.create("Cell",{grid:this.grid,row:I,col:L,datarow:J,colDef:F})))
}else{K.push(F.renderer(J[F.key],I,L,J,F,this))}this.grid.event.trigger("onRenderCell_"+F.key+"_append",[I,L,J,F,K,this.grid.dataMgr.idKey]);return K};JGM.Cell.prototype.rerender=function(){this.getNode().innerHTML=this.grid.view.Aq(this.getRowIdx(),this.getColIdx(),this.getDatarow(),this.getColDef()).join("");
this.grid.view.Ab(this.getRowIdx())};JGM.Cell.prototype.scrollTo=function(){this.grid.view.scrollTo(this.getRowIdx(),this.getColIdx())};A.prototype.U=function(F){if(!Util.contains(this.a[0],document.activeElement,this.b[0])){return}this.grid.event.trigger("keydownCanvas_"+F.which+" keydownCanvas",[F])
};A.prototype.T=function(F){if(!Util.contains(this.a[0],document.activeElement,this.b[0])){return}this.grid.event.trigger("keyupCanvas_"+F.which+" keyupCanvas",[F])};A.prototype.S=function(F){if(!Util.contains(this.a[0],document.activeElement,this.b[0])){return
}this.grid.event.trigger("keypressCanvas_"+F.which+" keypressCanvas",[F])};A.prototype.R=function(F){if(this.W.a){this.Ar(F,{event:"draginCanvas mouseinCanvas"})}else{this.Ar(F,{event:"mouseinCanvas"})}};A.prototype.Q=function(F){if(this.W.a){this.Ar(F,{event:"dragoutCanvas mouseoutCanvas"})
}else{this.Ar(F,{event:"mouseoutCanvas"})}};A.prototype.P=function(F){if(this.W.a){this.Ar(F,{event:"dragenterCanvas mouseenterCanvas"})}else{this.Ar(F,{event:"mouseenterCanvas"})}};A.prototype.O=function(F){if(this.W.a){this.Ar(F,{event:"dragleaveCanvas mouseleaveCanvas"})
}else{this.Ar(F,{event:"mouseleaveCanvas"})}};A.prototype.N=function(F){if(this.W.a){this.Ar(F,{event:"dragmoveCanvas mousemoveCanvas"})}else{this.Ar(F,{event:"mousemoveCanvas"})}};A.prototype.M=function(F){if(this.W.a){this.Ar(F,{event:"dragoverCanvas mouseoverCanvas"})
}else{this.Ar(F,{event:"mouseoverCanvas"})}};A.prototype.L=function(F){if(this.Ar(F,{event:"mousedownCanvas"})){this.W.a=true;this.At()}};A.prototype.K=function(F){this.W.a=false;if(this.Ar(F,{event:"mouseupCanvas"})){this.At()}};A.prototype.J=function(F){this.Ar(F,{event:"clickCanvas"})
};A.prototype.I=function(F){this.Ar(F,{event:"dblclickCanvas"})};A.prototype.Ar=function(L,I){if(!Util.contains(this.c[0],L.target,this.b[0])){return false}if(Util.isNull(I.cell)){I.cell=JGM.create("Cell",{grid:this.grid,mode:"e",event:L})}if(I.cell.isInvalid()){return false
}var F=$.trim(I.event).split(/\s+/);var K=[];for(var J=0;J<F.length;J++){K.push(F[J]+"_"+I.cell.getKey());K.push(F[J])}this.grid.event.trigger(K.join(" "),[L,I.cell]);return true};A.prototype.As=function(){var J=this.g();var I=J-this.W.d;var L=this.h();var F=L-this.W.e;
if(I===0&&F===0){return}this.grid.event.trigger("onScrollViewport");if(F!==0){this.W.e=L;this.grid.event.trigger("onScrollViewportH",[L])}var K=Math.abs(I/this.AN());if(K<this.Z.b){return}this.W.d=J;if(K>=this.Z.c){this.w()}else{this.x()}this.grid.event.trigger("onScrollViewportV")
};A.prototype.At=function(){if(this.a[0]!==document.activeElement){if(Util.isFunction(this.a[0].setActive)){this.a[0].setActive()}this.a[0].focus()}};A.prototype.Av=function(F){return $(this.Au(F))};A.prototype.Au=function(F){if(this.Z.p&&this.d.hasKey(F)){return this.d.get(F)
}return document.getElementById(this.mid+"r"+F)};A.prototype.Aw=function(F){return parseInt(F.getAttribute(this.Z.a))};A.prototype.Ay=function(F,I){return $(this.Ax(F,I))};A.prototype.Ax=function(I,J){var F=this.Au(I);if(Util.isNotNull(F)){return F.childNodes[J]
}};A.prototype.Az=function(F){return Util$.safe$(F).closest("div."+this.Z.m,this.c)};A.prototype.AA=function(F){return Util$.safe$(F).closest("div."+this.Z.l,this.c)};A.prototype.AB=function(F){return parseInt(this.AA(F).attr(this.Z.a))};A.prototype.AC=function(F){return this.c.find(F)
};A.AD=function(K,I,M,J,F,L){return Util.ifNull(K,"")};JGM.b("ViewportManager",A)})();